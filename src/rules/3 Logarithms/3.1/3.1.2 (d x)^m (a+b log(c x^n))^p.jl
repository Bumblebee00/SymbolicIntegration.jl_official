file_rules = [
# (* ::Subsection::Closed:: *) 
# (* 3.1.2 (d x)^m (a+b log(c x^n))^p *) 
("3_1_2_1",
@rule ∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))/(~x),(~x)) =>
    !contains_var((~a), (~b), (~c), (~n), (~x)) ?
((~a) + (~b)*log((~c)*(~x)^(~n)))^2⨸(2*(~b)*(~n)) : nothing)

("3_1_2_2",
@rule ∫(((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p)/(~x),(~x)) =>
    !contains_var((~a), (~b), (~c), (~n), (~p), (~x)) ?
1⨸((~b)*(~n))*int_and_subst((~x)^(~p),  (~x), (~x), (~a) + (~b)*log((~c)*(~x)^(~n)), "3_1_2_2") : nothing)

("3_1_2_3",
@rule ∫(((~!d)*(~x))^(~!m)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~n), (~x)) &&
    !eq((~m), -1) &&
    eq((~a)*((~m) + 1) - (~b)*(~n), 0) ?
(~b)*((~d)*(~x))^((~m) + 1)*log((~c)*(~x)^(~n))⨸((~d)*((~m) + 1)) : nothing)

("3_1_2_4",
@rule ∫(((~!d)*(~x))^(~!m)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~n), (~x)) &&
    !eq((~m), -1) ?
((~d)*(~x))^((~m) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))⨸((~d)*((~m) + 1)) - (~b)*(~n)*((~d)*(~x))^((~m) + 1)⨸((~d)*((~m) + 1)^2) : nothing)

("3_1_2_5",
@rule ∫(((~!d)*(~x))^(~!m)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~n), (~x)) &&
    !eq((~m), -1) &&
    gt((~p), 0) ?
((~d)*(~x))^((~m) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p)⨸((~d)*((~m) + 1)) - (~b)*(~n)*(~p)⨸((~m) + 1)*∫(((~d)*(~x))^(~m)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) - 1), (~x)) : nothing)

("3_1_2_6",
@rule ∫(((~!d)*(~x))^(~!m)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~p),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~n), (~x)) &&
    !eq((~m), -1) &&
    lt((~p), -1) ?
((~d)*(~x))^((~m) + 1)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) + 1)⨸((~b)*(~d)*(~n)*((~p) + 1)) - ((~m) + 1)⨸((~b)*(~n)*((~p) + 1))*∫(((~d)*(~x))^(~m)*((~a) + (~b)*log((~c)*(~x)^(~n)))^((~p) + 1), (~x)) : nothing)

("3_1_2_7",
@rule ∫((~x)^(~!m)/log((~!c)*(~x)^(~n)),(~x)) =>
    !contains_var((~c), (~m), (~n), (~x)) &&
    eq((~m), (~n) - 1) ?
1⨸(~n)*int_and_subst(1⨸log((~c)*(~x)),  (~x), (~x), (~x)^(~n), "3_1_2_7") : nothing)

("3_1_2_8",
@rule ∫(((~d)*(~x))^(~!m)/log((~!c)*(~x)^(~n)),(~x)) =>
    !contains_var((~c), (~d), (~m), (~n), (~x)) &&
    eq((~m), (~n) - 1) ?
((~d)*(~x))^(~m)⨸(~x)^(~m)*∫((~x)^(~m)⨸log((~c)*(~x)^(~n)), (~x)) : nothing)

("3_1_2_9",
@rule ∫((~x)^(~!m)*((~!a) + (~!b)*log((~!c)*(~x)))^(~p),(~x)) =>
    !contains_var((~a), (~b), (~c), (~p), (~x)) &&
    ext_isinteger((~m)) ?
1⨸(~c)^((~m) + 1)*int_and_subst(ℯ^(((~m) + 1)*(~x))*((~a) + (~b)*(~x))^(~p),  (~x), (~x), log((~c)*(~x)), "3_1_2_9") : nothing)

("3_1_2_10",
@rule ∫(((~!d)*(~x))^(~!m)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~p),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~n), (~p), (~x)) ?
((~d)*(~x))^((~m) + 1)⨸((~d)*(~n)*((~c)*(~x)^(~n))^(((~m) + 1)⨸(~n)))* int_and_subst(ℯ^(((~m) + 1)⨸(~n)*(~x))*((~a) + (~b)*(~x))^(~p),  (~x), (~x), log((~c)*(~x)^(~n)), "3_1_2_10") : nothing)

("3_1_2_11",
@rule ∫(((~!d)*(~x)^(~q))^(~m)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^(~!p),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~n), (~p), (~q), (~x)) ?
((~d)*(~x)^(~q))^(~m)⨸(~x)^((~m)*(~q))*∫((~x)^((~m)*(~q))*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p), (~x)) : nothing)

("3_1_2_12",
@rule ∫(((~!d1)*(~x)^(~q1))^(~m1)*((~!d2)*(~x)^(~q2))^(~m2)*((~!a) + (~!b)*log((~!c)*(~x)^(~!n)))^ (~!p),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d1), (~d2), (~m1), (~m2), (~n), (~p), (~q1), (~q2), (~x)) ?
((~d1)*(~x)^(~q1))^(~m1)*((~d2)*(~x)^(~q2))^(~m2)⨸(~x)^((~m1)*(~q1) + (~m2)*(~q2))* ∫((~x)^((~m1)*(~q1) + (~m2)*(~q2))*((~a) + (~b)*log((~c)*(~x)^(~n)))^(~p), (~x)) : nothing)

]
