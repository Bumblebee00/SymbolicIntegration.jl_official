file_rules = [
#(* ::Subsection::Closed:: *)
#(* 4.1.0.3 (a csc)^m (b sec)^n *)
("4_1_0_3_1",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~m) + (~n) - 2, 0) &&
    !eq((~n), 1) ?
(~a)*(~b)*((~a)*csc((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*((~n) - 1)) : nothing)

("4_1_0_3_2",
@rule ∫(csc((~!e) + (~!f)*(~x))^(~!m)*sec((~!e) + (~!f)*(~x))^(~!n),(~x)) =>
    !contains_var((~e), (~f), (~x)) &&
    ext_isinteger((~m), (~n), ((~m) + (~n))/2) ?
1⨸(~f)*int_and_subst((1 + (~x)^2)^(((~m) + (~n))⨸2 - 1)⨸(~x)^(~m),  (~x), (~x), tan((~e) + (~f)*(~x)), "4_1_0_3_2") : nothing)

("4_1_0_3_3",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*sec((~!e) + (~!f)*(~x))^(~!n),(~x)) =>
    !contains_var((~a), (~e), (~f), (~m), (~x)) &&
    ext_isinteger(((~n) + 1)/2) &&
    !(
        ext_isinteger(((~m) + 1)/2) &&
        lt(0, (~m), (~n))
    ) ?
-1⨸((~f)*(~a)^(~n))* int_and_subst((~x)^((~m) + (~n) - 1)⨸(-1 + (~x)^2⨸(~a)^2)^(((~n) + 1)⨸2),  (~x), (~x), (~a)*csc((~e) + (~f)*(~x)), "4_1_0_3_3") : nothing)

("4_1_0_3_4",
@rule ∫(((~!a)*sec((~!e) + (~!f)*(~x)))^(~m)*csc((~!e) + (~!f)*(~x))^(~!n),(~x)) =>
    !contains_var((~a), (~e), (~f), (~m), (~x)) &&
    ext_isinteger(((~n) + 1)/2) &&
    !(
        ext_isinteger(((~m) + 1)/2) &&
        lt(0, (~m), (~n))
    ) ?
1⨸((~f)*(~a)^(~n))* int_and_subst((~x)^((~m) + (~n) - 1)⨸(-1 + (~x)^2⨸(~a)^2)^(((~n) + 1)⨸2),  (~x), (~x), (~a)*sec((~e) + (~f)*(~x)), "4_1_0_3_4") : nothing)

("4_1_0_3_5",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~x)) &&
    gt((~m), 1) &&
    lt((~n), -1) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
-(~a)*((~a)*csc((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) + 1)⨸((~f)* (~b)*((~m) - 1)) + (~a)^2*((~n) + 1)⨸((~b)^2*((~m) - 1))* ∫(((~a)*csc((~e) + (~f)*(~x)))^((~m) - 2)*((~b)*sec((~e) + (~f)*(~x)))^((~n) + 2), (~x)) : nothing)

("4_1_0_3_6",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~x)) &&
    gt((~n), 1) &&
    lt((~m), -1) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
(~b)*((~a)*csc((~e) + (~f)*(~x)))^((~m) + 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*(~a)*((~n) - 1)) + (~b)^2*((~m) + 1)⨸((~a)^2*((~n) - 1))* ∫(((~a)*csc((~e) + (~f)*(~x)))^((~m) + 2)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 2), (~x)) : nothing)

("4_1_0_3_7",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~n), (~x)) &&
    gt((~m), 1) &&
    ext_isinteger(2*(~m), 2*(~n)) &&
    !(gt((~n), (~m))) ?
-(~a)*(~b)*((~a)*csc((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*((~m) - 1)) + (~a)^2*((~m) + (~n) - 2)⨸((~m) - 1)* ∫(((~a)*csc((~e) + (~f)*(~x)))^((~m) - 2)*((~b)*sec((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_0_3_8",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~!m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~x)) &&
    gt((~n), 1) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
(~a)*(~b)*((~a)*csc((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*((~n) - 1)) + (~b)^2*((~m) + (~n) - 2)⨸((~n) - 1)* ∫(((~a)*csc((~e) + (~f)*(~x)))^(~m)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 2), (~x)) : nothing)

("4_1_0_3_9",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~n), (~x)) &&
    lt((~m), -1) &&
    !eq((~m) + (~n), 0) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
(~b)*((~a)*csc((~e) + (~f)*(~x)))^((~m) + 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) - 1)⨸((~a)*(~f)*((~m) + (~n))) + ((~m) + 1)⨸((~a)^2*((~m) + (~n)))* ∫(((~a)*csc((~e) + (~f)*(~x)))^((~m) + 2)*((~b)*sec((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_0_3_10",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~!m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~x)) &&
    lt((~n), -1) &&
    !eq((~m) + (~n), 0) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
-(~a)*((~a)*csc((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) + 1)⨸((~b)* (~f)*((~m) + (~n))) + ((~n) + 1)⨸((~b)^2*((~m) + (~n)))* ∫(((~a)*csc((~e) + (~f)*(~x)))^(~m)*((~b)*sec((~e) + (~f)*(~x)))^((~n) + 2), (~x)) : nothing)

("4_1_0_3_11",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~n), (~x)) &&
    !(ext_isinteger((~n))) &&
    eq((~m) + (~n), 0) ?
((~a)*csc((~e) + (~f)*(~x)))^(~m)*((~b)*sec((~e) + (~f)*(~x)))^(~n)⨸tan((~e) + (~f)*(~x))^(~n)* ∫(tan((~e) + (~f)*(~x))^(~n), (~x)) : nothing)

("4_1_0_3_12",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~n), (~x)) &&
    ext_isinteger((~m) - 1/2) &&
    ext_isinteger((~n) - 1/2) ?
((~a)*csc((~e) + (~f)*(~x)))^(~m)*((~b)*sec((~e) + (~f)*(~x)))^(~n)*((~a)*sin((~e) + (~f)*(~x)))^ (~m)*((~b)*cos((~e) + (~f)*(~x)))^(~n)* ∫(((~a)*sin((~e) + (~f)*(~x)))^(-(~m))*((~b)*cos((~e) + (~f)*(~x)))^(-(~n)), (~x)) : nothing)

("4_1_0_3_13",
@rule ∫(((~!a)*csc((~!e) + (~!f)*(~x)))^(~m)*((~!b)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~n), (~x)) &&
    !(simpler(-(~m), -(~n))) ?
(~a)^2⨸(~b)^2*((~a)*csc((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sec((~e) + (~f)*(~x)))^((~n) + 1)*((~a)* sin((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*cos((~e) + (~f)*(~x)))^((~n) + 1)* ∫(((~a)*sin((~e) + (~f)*(~x)))^(-(~m))*((~b)*cos((~e) + (~f)*(~x)))^(-(~n)), (~x)) : nothing)

("4_1_0_3_14",
@rule ∫(((~!a)*sec((~!e) + (~!f)*(~x)))^(~m)*((~!b)*csc((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~n), (~x)) ?
(~a)^2⨸(~b)^2*((~a)*sec((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*csc((~e) + (~f)*(~x)))^((~n) + 1)*((~a)* cos((~e) + (~f)*(~x)))^((~m) - 1)*((~b)*sin((~e) + (~f)*(~x)))^((~n) + 1)* ∫(((~a)*cos((~e) + (~f)*(~x)))^(-(~m))*((~b)*sin((~e) + (~f)*(~x)))^(-(~n)), (~x)) : nothing)


]
