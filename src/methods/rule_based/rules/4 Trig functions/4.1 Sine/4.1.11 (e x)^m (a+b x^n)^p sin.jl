file_rules = [
#(* ::Subsection::Closed:: *)
#(* 4.1.11 (e x)^m (a+b x^n)^p sin *)
("4_1_11_1",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~!p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~n), (~x)) &&
    igt((~p), 0) ?
∫(ext_expand(sin((~c) + (~d)*(~x)), ((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_2",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~!p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~n), (~x)) &&
    igt((~p), 0) ?
∫(ext_expand(cos((~c) + (~d)*(~x)), ((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_3",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~x)) &&
    ilt((~p), -1) &&
    igt((~n), 2) ?
(~x)^(-(~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x))⨸((~b)*(~n)*((~p) + 1)) - (-(~n) + 1)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^(-(~n))*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x)), (~x)) - (~d)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^(-(~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_4",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~x)) &&
    ilt((~p), -1) &&
    igt((~n), 2) ?
(~x)^(-(~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x))⨸((~b)*(~n)*((~p) + 1)) - (-(~n) + 1)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^(-(~n))*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x)), (~x)) + (~d)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^(-(~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_5",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~x)) &&
    ilt((~p), 0) &&
    igt((~n), 0) &&
    (
        eq((~n), 2) ||
        eq((~p), -1)
    ) ?
∫(ext_expand(sin((~c) + (~d)*(~x)), ((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_6",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~x)) &&
    ilt((~p), 0) &&
    igt((~n), 0) &&
    (
        eq((~n), 2) ||
        eq((~p), -1)
    ) ?
∫(ext_expand(cos((~c) + (~d)*(~x)), ((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_7",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~x)) &&
    ilt((~p), 0) &&
    ilt((~n), 0) ?
∫((~x)^((~n)*(~p))*((~b) + (~a)*(~x)^(-(~n)))^(~p)*sin((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_8",
@rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~x)) &&
    ilt((~p), 0) &&
    ilt((~n), 0) ?
∫((~x)^((~n)*(~p))*((~b) + (~a)*(~x)^(-(~n)))^(~p)*cos((~c) + (~d)*(~x)), (~x)) : nothing)

# ("4_1_11_9",
# @rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~n), (~p), (~x)) ?
# Unintegrable[((~a) + (~b)*(~x)^(~n))^(~p)*sin((~c) + (~d)*(~x)), (~x)] : nothing)

# ("4_1_11_10",
# @rule ∫(((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~n), (~p), (~x)) ?
# Unintegrable[((~a) + (~b)*(~x)^(~n))^(~p)*cos((~c) + (~d)*(~x)), (~x)] : nothing)

("4_1_11_11",
@rule ∫(((~!e)*(~x))^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~!p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~x)) &&
    igt((~p), 0) ?
∫(ext_expand(sin((~c) + (~d)*(~x)), ((~e)*(~x))^(~m)*((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_12",
@rule ∫(((~!e)*(~x))^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~!p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~x)) &&
    igt((~p), 0) ?
∫(ext_expand(cos((~c) + (~d)*(~x)), ((~e)*(~x))^(~m)*((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_13",
@rule ∫(((~!e)*(~x))^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~x)) &&
    ilt((~p), -1) &&
    eq((~m), (~n) - 1) &&
    (
        ext_isinteger((~n)) ||
        gt((~e), 0)
    ) ?
(~e)^(~m)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x))⨸((~b)*(~n)*((~p) + 1)) - (~d)*(~e)^(~m)⨸((~b)*(~n)*((~p) + 1))*∫(((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_14",
@rule ∫(((~!e)*(~x))^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~x)) &&
    ilt((~p), -1) &&
    eq((~m), (~n) - 1) &&
    (
        ext_isinteger((~n)) ||
        gt((~e), 0)
    ) ?
(~e)^(~m)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x))⨸((~b)*(~n)*((~p) + 1)) + (~d)*(~e)^(~m)⨸((~b)*(~n)*((~p) + 1))*∫(((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_15",
@rule ∫((~x)^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~x)) &&
    ilt((~p), -1) &&
    igt((~n), 0) &&
    (
        gt((~m) - (~n) + 1, 0) ||
        gt((~n), 2)
    ) &&
    isrational((~m)) ?
(~x)^((~m) - (~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x))⨸((~b)*(~n)*((~p) + 1)) - ((~m) - (~n) + 1)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^((~m) - (~n))*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x)), (~x)) - (~d)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^((~m) - (~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_16",
@rule ∫((~x)^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~x)) &&
    ilt((~p), -1) &&
    igt((~n), 0) &&
    (
        gt((~m) - (~n) + 1, 0) ||
        gt((~n), 2)
    ) &&
    isrational((~m)) ?
(~x)^((~m) - (~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x))⨸((~b)*(~n)*((~p) + 1)) - ((~m) - (~n) + 1)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^((~m) - (~n))*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*cos((~c) + (~d)*(~x)), (~x)) + (~d)⨸((~b)*(~n)*((~p) + 1))* ∫((~x)^((~m) - (~n) + 1)*((~a) + (~b)*(~x)^(~n))^((~p) + 1)*sin((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_17",
@rule ∫((~x)^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~x)) &&
    ilt((~p), 0) &&
    igt((~n), 0) &&
    (
        eq((~n), 2) ||
        eq((~p), -1)
    ) &&
    ext_isinteger((~m)) ?
∫(ext_expand(sin((~c) + (~d)*(~x)), (~x)^(~m)*((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_18",
@rule ∫((~x)^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~x)) &&
    ilt((~p), 0) &&
    igt((~n), 0) &&
    (
        eq((~n), 2) ||
        eq((~p), -1)
    ) &&
    ext_isinteger((~m)) ?
∫(ext_expand(cos((~c) + (~d)*(~x)), (~x)^(~m)*((~a) + (~b)*(~x)^(~n))^(~p), (~x)), (~x)) : nothing)

("4_1_11_19",
@rule ∫((~x)^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~x)) &&
    ilt((~p), 0) &&
    ilt((~n), 0) ?
∫((~x)^((~m) + (~n)*(~p))*((~b) + (~a)*(~x)^(-(~n)))^(~p)*sin((~c) + (~d)*(~x)), (~x)) : nothing)

("4_1_11_20",
@rule ∫((~x)^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~m), (~x)) &&
    ilt((~p), 0) &&
    ilt((~n), 0) ?
∫((~x)^((~m) + (~n)*(~p))*((~b) + (~a)*(~x)^(-(~n)))^(~p)*cos((~c) + (~d)*(~x)), (~x)) : nothing)

# ("4_1_11_21",
# @rule ∫(((~!e)*(~x))^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~!p)*sin((~!c) + (~!d)*(~x)),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~p), (~x)) ?
# Unintegrable[((~e)*(~x))^(~m)*((~a) + (~b)*(~x)^(~n))^(~p)*sin((~c) + (~d)*(~x)), (~x)] : nothing)

# ("4_1_11_22",
# @rule ∫(((~!e)*(~x))^(~!m)*((~a) + (~!b)*(~x)^(~n))^(~!p)*cos((~!c) + (~!d)*(~x)),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~p), (~x)) ?
# Unintegrable[((~e)*(~x))^(~m)*((~a) + (~b)*(~x)^(~n))^(~p)*cos((~c) + (~d)*(~x)), (~x)] : nothing)


]
