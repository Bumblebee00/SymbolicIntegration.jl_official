file_rules = [
#(* ::Subsection::Closed:: *)
#(* 4.1.2.1 (a+b sin)^m (c+d sin)^n *)
("4_1_2_1_1",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) ?
(2*(~a)*(~c) + (~b)*(~d))*(~x)⨸2 - ((~b)*(~c) + (~a)*(~d))*cos((~e) + (~f)*(~x))⨸(~f) - (~b)*(~d)*cos((~e) + (~f)*(~x))*sin((~e) + (~f)*(~x))⨸(2*(~f)) : nothing)

("4_1_2_1_2",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))/((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) ?
(~b)*(~x)⨸(~d) - ((~b)*(~c) - (~a)*(~d))⨸(~d)*∫(1⨸((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_3",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~!m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    ext_isinteger((~m)) &&
    !(
        ext_isinteger( (~n)) &&
        (
            lt((~m), 0) &&
            gt((~n), 0) ||
            lt(0, (~n), (~m)) ||
            lt((~m), (~n), 0)
        )
    ) ?
(~a)^(~m)*(~c)^(~m)*∫(cos((~e) + (~f)*(~x))^(2*(~m))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - (~m)), (~x)) : nothing)

("4_1_2_1_4",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) ?
(~a)*(~c)*cos( (~e) + (~f)*(~x))⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))))* ∫(cos((~e) + (~f)*(~x))⨸((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_5",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~n), -1/2) ?
-2*(~b)*cos( (~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^ (~n)⨸((~f)*(2*(~n) + 1)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))) : nothing)

("4_1_2_1_6",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    igt((~m) - 1/2, 0) &&
    lt((~n), -1) &&
    !(
        ilt((~m) + (~n), 0) &&
        gt(2*(~m) + (~n) + 1, 0)
    ) ?
-2*(~b)*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^ (~n)⨸((~f)*(2*(~n) + 1)) - (~b)*(2*(~m) - 1)⨸((~d)*(2*(~n) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1), (~x)) : nothing)

("4_1_2_1_7",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    igt((~m) - 1/2, 0) &&
    !(lt((~n), -1)) &&
    !(
        igt((~n) - 1/2, 0) &&
        lt((~n), (~m))
    ) &&
    !(
        ilt((~m) + (~n), 0) &&
        gt(2*(~m) + (~n) + 1, 0)
    ) ?
-(~b)*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^ (~n)⨸((~f)*((~m) + (~n))) + (~a)*(2*(~m) - 1)⨸((~m) + (~n))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_2_1_8",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) ?
cos((~e) + (~f)*(~x))⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))))* ∫(1⨸cos((~e) + (~f)*(~x)), (~x)) : nothing)

("4_1_2_1_9",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    eq((~m) + (~n) + 1, 0) &&
    !eq((~m), -1/2) ?
(~b)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)⨸((~a)*(~f)*(2*(~m) + 1)) : nothing)

("4_1_2_1_10",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    ilt(simplify((~m) + (~n) + 1), 0) &&
    !eq((~m), -1/2) &&
    (
        sumsimpler((~m), 1) ||
        !(sumsimpler((~n), 1))
    ) ?
(~b)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)⨸((~a)*(~f)*(2*(~m) + 1)) + ((~m) + (~n) + 1)⨸((~a)*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_2_1_11",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    lt((~m), -1) &&
    !(lt((~m), (~n), -1)) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
(~b)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)⨸((~a)*(~f)*(2*(~m) + 1)) + ((~m) + (~n) + 1)⨸((~a)*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_2_1_12",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~b)*(~c) + (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    (
        isfraction((~m)) ||
        !(isfraction((~n)))
    ) ?
(~a)^intpart((~m))* (~c)^intpart((~m))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ fracpart((~m))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^fracpart((~m))⨸ cos((~e) + (~f)*(~x))^(2*fracpart((~m)))* ∫(cos((~e) + (~f)*(~x))^(2*(~m))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - (~m)), (~x)) : nothing)

("4_1_2_1_13",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^2/((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) ?
-(~b)^2*cos((~e) + (~f)*(~x))⨸((~d)*(~f)) + 1⨸(~d)*∫(simp((~a)^2*(~d) - (~b)*((~b)*(~c) - 2*(~a)*(~d))*sin((~e) + (~f)*(~x)), (~x))⨸((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_14",
@rule ∫(1/(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) ?
(~b)⨸((~b)*(~c) - (~a)*(~d))*∫(1⨸((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) - (~d)⨸((~b)*(~c) - (~a)*(~d))*∫(1⨸((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_15",
@rule ∫(((~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~b), (~c), (~d), (~e), (~f), (~m), (~x)) ?
(~c)*∫(((~b)*sin((~e) + (~f)*(~x)))^(~m), (~x)) + (~d)⨸(~b)*∫(((~b)*sin((~e) + (~f)*(~x)))^((~m) + 1), (~x)) : nothing)

("4_1_2_1_16",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    eq((~a)*(~d)*(~m) + (~b)*(~c)*((~m) + 1), 0) ?
-(~d)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)⨸((~f)*((~m) + 1)) : nothing)

("4_1_2_1_17",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    lt((~m), -1/2) ?
((~b)*(~c) - (~a)*(~d))*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)⨸((~a)*(~f)*(2*(~m) + 1)) + ((~a)*(~d)*(~m) + (~b)*(~c)*((~m) + 1))⨸((~a)*(~b)*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1), (~x)) : nothing)

("4_1_2_1_18",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !(lt((~m), -1/2)) ?
-(~d)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)⨸((~f)*((~m) + 1)) + ((~a)*(~d)*(~m) + (~b)*(~c)*((~m) + 1))⨸((~b)*((~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m), (~x)) : nothing)

("4_1_2_1_19",
@rule ∫(((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))/sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) ?
((~b)*(~c) - (~a)*(~d))⨸(~b)*∫(1⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) + (~d)⨸(~b)*∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_20",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    gt((~m), 0) &&
    ext_isinteger(2*(~m)) ?
-(~d)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)⨸((~f)*((~m) + 1)) + 1⨸((~m) + 1)* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)* simp((~b)*(~d)*(~m) + (~a)*(~c)*((~m) + 1) + ((~a)*(~d)*(~m) + (~b)*(~c)*((~m) + 1))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_21",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    lt((~m), -1) &&
    ext_isinteger(2*(~m)) ?
-((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)* (~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)⨸((~f)*((~m) + 1)*((~a)^2 - (~b)^2)) + 1⨸(((~m) + 1)*((~a)^2 - (~b)^2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)* simp(((~a)*(~c) - (~b)*(~d))*((~m) + 1) - ((~b)*(~c) - (~a)*(~d))*((~m) + 2)*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_22",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !(ext_isinteger(2*(~m))) &&
    eq((~c)^2 - (~d)^2, 0) ?
(~c)*cos((~e) + (~f)*(~x))⨸((~f)*sqrt(1 + sin((~e) + (~f)*(~x)))*sqrt(1 - sin((~e) + (~f)*(~x))))* int_and_subst(((~a) + (~b)*(~x))^(~m)*sqrt(1 + (~d)⨸(~c)*(~x))⨸sqrt(1 - (~d)⨸(~c)*(~x)),  (~x), (~x), sin((~e) + (~f)*(~x)), "4_1_2_1_22") : nothing)

("4_1_2_1_23",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) ?
((~b)*(~c) - (~a)*(~d))⨸(~b)*∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m), (~x)) + (~d)⨸(~b)*∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1), (~x)) : nothing)

("4_1_2_1_24",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~!m)*((~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~n), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    igt((~m), 0) &&
    isrational((~n)) ?
∫(ext_expand(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)), (~x)) : nothing)

("4_1_2_1_25",
@rule ∫(sin((~!e) + (~!f)*(~x))^2*((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    lt((~m), -1/2) ?
(~b)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)⨸((~a)*(~f)*(2*(~m) + 1)) - 1⨸((~a)^2*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~a)*(~m) - (~b)*(2*(~m) + 1)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_26",
@rule ∫(sin((~!e) + (~!f)*(~x))^2*((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m),(~x)) =>
    !contains_var((~a), (~b), (~e), (~f), (~m), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !(lt((~m), -1/2)) ?
-cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)⨸((~b)*(~f)*((~m) + 2)) + 1⨸((~b)*((~m) + 2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~b)*((~m) + 1) - (~a)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_27",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^2,(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    lt((~m), -1) ?
((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))⨸((~a)*(~f)*(2*(~m) + 1)) + 1⨸((~a)*(~b)*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)* simp((~a)*(~c)*(~d)*((~m) - 1) + (~b)*((~d)^2 + (~c)^2*((~m) + 1)) + (~d)*((~a)*(~d)*((~m) - 1) + (~b)*(~c)*((~m) + 2))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_28",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^2,(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !(lt((~m), -1)) ?
-(~d)^2*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)⨸((~b)*(~f)*((~m) + 2)) + 1⨸((~b)*((~m) + 2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)* simp((~b)*((~d)^2*((~m) + 1) + (~c)^2*((~m) + 2)) - (~d)*((~a)*(~d) - 2*(~b)*(~c)*((~m) + 2))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_29",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~m), 1) &&
    lt((~n), -1) &&
    (
        ext_isinteger(2*(~m), 2*(~n)) ||
        ext_isinteger((~m) + 1/2) ||
        ext_isinteger((~m)) &&
        eq((~c), 0)
    ) ?
-(~b)^2*((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~d)*(~f)*((~n) + 1)*((~b)*(~c) + (~a)*(~d))) + (~b)^2⨸((~d)*((~n) + 1)*((~b)*(~c) + (~a)*(~d)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)* simp((~a)*(~c)*((~m) - 2) - (~b)*(~d)*((~m) - 2*(~n) - 4) - ((~b)*(~c)*((~m) - 1) - (~a)*(~d)*((~m) + 2*(~n) + 1))* sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_30",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~m), 1) &&
    !(lt((~n), -1)) &&
    (
        ext_isinteger(2*(~m), 2*(~n)) ||
        ext_isinteger((~m) + 1/2) ||
        ext_isinteger((~m)) &&
        eq((~c), 0)
    ) ?
-(~b)^2*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~d)*(~f)*((~m) + (~n))) + 1⨸((~d)*((~m) + (~n)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)* simp((~a)*(~b)*(~c)*((~m) - 2) + (~b)^2*(~d)*((~n) + 1) + (~a)^2*(~d)*((~m) + (~n)) - (~b)*((~b)*(~c)*((~m) - 1) - (~a)*(~d)*(3*(~m) + 2*(~n) - 2))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_31",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~m), -1) &&
    lt(0, (~n), 1) &&
    (
        ext_isinteger(2*(~m), 2*(~n)) ||
        ext_isinteger((~m)) &&
        eq((~c), 0)
    ) ?
(~b)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)⨸((~a)*(~f)*(2*(~m) + 1)) - 1⨸((~a)*(~b)*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)* simp((~a)*(~d)*(~n) - (~b)*(~c)*((~m) + 1) - (~b)*(~d)*((~m) + (~n) + 1)*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_32",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~m), -1) &&
    gt((~n), 1) &&
    (
        ext_isinteger(2*(~m), 2*(~n)) ||
        ext_isinteger((~m)) &&
        eq((~c), 0)
    ) ?
((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)⨸((~a)*(~f)*(2*(~m) + 1)) + 1⨸((~a)*(~b)*(2*(~m) + 1))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 2)* simp((~b)*((~c)^2*((~m) + 1) + (~d)^2*((~n) - 1)) + (~a)*(~c)*(~d)*((~m) - (~n) + 1) + (~d)*((~a)*(~d)*((~m) - (~n) + 1) + (~b)*(~c)*((~m) + (~n)))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_33",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~m), -1) &&
    !(gt((~n), 0)) &&
    (
        ext_isinteger(2*(~m), 2*(~n)) ||
        ext_isinteger((~m)) &&
        eq((~c), 0)
    ) ?
(~b)^2*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~a)*(~f)*(2*(~m) + 1)*((~b)*(~c) - (~a)*(~d))) + 1⨸((~a)*(2*(~m) + 1)*((~b)*(~c) - (~a)*(~d)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)* simp((~b)*(~c)*((~m) + 1) - (~a)*(~d)*(2*(~m) + (~n) + 2) + (~b)*(~d)*((~m) + (~n) + 2)*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_34",
@rule ∫(((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n)/((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~n), 1) &&
    (
        ext_isinteger(2*(~n)) ||
        eq((~c), 0)
    ) ?
-((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)⨸((~a)* (~f)*((~a) + (~b)*sin((~e) + (~f)*(~x)))) - (~d)⨸((~a)*(~b))* ∫(((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 2)* simp((~b)*(~d)*((~n) - 1) - (~a)*(~c)*(~n) + ((~b)*(~c)*((~n) - 1) - (~a)*(~d)*(~n))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_35",
@rule ∫(((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n)/((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~n), 0) &&
    (
        ext_isinteger(2*(~n)) ||
        eq((~c), 0)
    ) ?
-(~b)^2*cos( (~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~a)* (~f)*((~b)*(~c) - (~a)*(~d))*((~a) + (~b)*sin((~e) + (~f)*(~x)))) + (~d)⨸((~a)*((~b)*(~c) - (~a)*(~d)))* ∫(((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)*((~a)*(~n) - (~b)*((~n) + 1)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_36",
@rule ∫(((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n)/((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    (
        ext_isinteger(2*(~n)) ||
        eq((~c), 0)
    ) ?
-(~b)*cos((~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)⨸((~a)*(~f)*((~a) + (~b)*sin((~e) + (~f)*(~x)))) + (~d)*(~n)⨸((~a)*(~b))* ∫(((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)*((~a) - (~b)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_37",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~n), 0) &&
    ext_isinteger(2*(~n)) ?
-2*(~b)*cos( (~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^ (~n)⨸((~f)*(2*(~n) + 1)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))) + 2*(~n)*((~b)*(~c) + (~a)*(~d))⨸((~b)*(2*(~n) + 1))* ∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1), (~x)) : nothing)

("4_1_2_1_38",
@rule ∫(sqrt( (~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(3//2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
-2*(~b)^2* cos((~e) + (~f)*(~x))⨸((~f)*((~b)*(~c) + (~a)*(~d))*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))) : nothing)

("4_1_2_1_39",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~n), -1) &&
    !eq(2*(~n) + 3, 0) &&
    ext_isinteger(2*(~n)) ?
((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~f)*((~n) + 1)*((~c)^2 - (~d)^2)* sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))) + (2*(~n) + 3)*((~b)*(~c) - (~a)*(~d))⨸(2*(~b)*((~n) + 1)*((~c)^2 - (~d)^2))* ∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1), (~x)) : nothing)

("4_1_2_1_40",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
-2*(~b)⨸(~f)* int_and_subst(1⨸((~b)*(~c) + (~a)*(~d) - (~d)*(~x)^2),  (~x), (~x), (~b)*cos((~e) + (~f)*(~x))⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), "4_1_2_1_40") : nothing)

("4_1_2_1_41",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/sqrt((~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    eq((~d), (~a)/(~b)) ?
-2⨸(~f)*int_and_subst(1⨸sqrt(1 - (~x)^2⨸(~a)),  (~x), (~x), (~b)*cos((~e) + (~f)*(~x))⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), "4_1_2_1_41") : nothing)

("4_1_2_1_42",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/ sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
-2*(~b)⨸(~f)* int_and_subst(1⨸((~b) + (~d)*(~x)^2),  (~x), (~x), (~b)*cos((~e) + (~f)*(~x))⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), "4_1_2_1_42") : nothing)

("4_1_2_1_43",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    !(ext_isinteger(2*(~n))) ?
(~a)^2*cos( (~e) + (~f)*(~x))⨸((~f)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~a) - (~b)*sin((~e) + (~f)*(~x))))* int_and_subst(((~c) + (~d)*(~x))^(~n)⨸sqrt((~a) - (~b)*(~x)),  (~x), (~x), sin((~e) + (~f)*(~x)), "4_1_2_1_43") : nothing)

("4_1_2_1_44",
@rule ∫(sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))/ sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
(~d)⨸(~b)*∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) + ((~b)*(~c) - (~a)*(~d))⨸(~b)* ∫(1⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_45",
@rule ∫(((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n)/sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~n), 1) &&
    ext_isinteger(2*(~n)) ?
-2*(~d)*cos( (~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*(2*(~n) - 1)* sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))) - 1⨸((~b)*(2*(~n) - 1))* ∫(((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 2)⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* simp((~a)*(~c)*(~d) - (~b)*(2*(~d)^2*((~n) - 1) + (~c)^2*(2*(~n) - 1)) + (~d)*((~a)*(~d) - (~b)*(~c)*(4*(~n) - 3))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_46",
@rule ∫(((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n)/sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~n), -1) &&
    ext_isinteger(2*(~n)) ?
-(~d)*cos( (~e) + (~f)*(~x))*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~f)*((~n) + 1)*((~c)^2 - (~d)^2)* sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))) - 1⨸(2*(~b)*((~n) + 1)*((~c)^2 - (~d)^2))* ∫(((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)* simp((~a)*(~d) - 2*(~b)*(~c)*((~n) + 1) + (~b)*(~d)*(2*(~n) + 3)*sin((~e) + (~f)*(~x)), (~x))⨸ sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_47",
@rule ∫(1/(sqrt( (~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
(~b)⨸((~b)*(~c) - (~a)*(~d))*∫(1⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) - (~d)⨸((~b)*(~c) - (~a)*(~d))* ∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_48",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    eq((~d), (~a)/(~b)) &&
    gt((~a), 0) ?
-sqrt(2)⨸(sqrt((~a))*(~f))* int_and_subst(1⨸sqrt(1 - (~x)^2),  (~x), (~x), (~b)*cos((~e) + (~f)*(~x))⨸((~a) + (~b)*sin((~e) + (~f)*(~x))), "4_1_2_1_48") : nothing)

("4_1_2_1_49",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
-2*(~a)⨸(~f)* int_and_subst(1⨸(2*(~b)^2 - ((~a)*(~c) - (~b)*(~d))*(~x)^2),  (~x), (~x), (~b)*cos((~e) + (~f)*(~x))⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), "4_1_2_1_49") : nothing)

("4_1_2_1_50",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~n), 1) &&
    ext_isinteger((~n)) ?
-(~d)*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ (~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*((~m) + (~n))) + 1⨸((~b)*((~m) + (~n)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 2)* simp((~d)*((~a)*(~c)*(~m) + (~b)*(~d)*((~n) - 1)) + (~b)*(~c)^2*((~m) + (~n)) + (~d)*((~a)*(~d)*(~m) + (~b)*(~c)*((~m) + 2*(~n) - 1))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_51",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    ext_isinteger((~m)) ?
(~a)^(~m)*cos((~e) + (~f)*(~x))⨸((~f)*sqrt(1 + sin((~e) + (~f)*(~x)))*sqrt(1 - sin((~e) + (~f)*(~x))))* int_and_subst((1 + (~b)⨸(~a)*(~x))^((~m) - 1⨸2)*((~c) + (~d)*(~x))^(~n)⨸sqrt(1 - (~b)⨸(~a)*(~x)),  (~x), (~x), sin((~e) + (~f)*(~x)), "4_1_2_1_51") : nothing)

("4_1_2_1_52",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !(ext_isinteger((~m))) &&
    gt((~a), 0) &&
    gt((~d)/(~b), 0) ?
-(~b)*((~d)⨸(~b))^(~n)* cos((~e) + (~f)*(~x))⨸((~f)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~a) - (~b)*sin((~e) + (~f)*(~x))))* int_and_subst(((~a) - (~x))^(~n)*(2*(~a) - (~x))^((~m) - 1⨸2)⨸sqrt((~x)),  (~x), (~x), (~a) - (~b)*sin((~e) + (~f)*(~x)), "4_1_2_1_52") : nothing)

("4_1_2_1_53",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !(ext_isinteger((~m))) &&
    gt((~a), 0) &&
    !(gt((~d)/(~b), 0)) ?
((~d)⨸(~b))^ intpart((~n))*((~d)*sin((~e) + (~f)*(~x)))^fracpart((~n))⨸((~b)*sin((~e) + (~f)*(~x)))^ fracpart((~n))*∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~b)*sin((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_2_1_54",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !(ext_isinteger((~m))) &&
    !(gt((~a), 0)) ?
(~a)^intpart((~m))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^ fracpart((~m))⨸(1 + (~b)⨸(~a)*sin((~e) + (~f)*(~x)))^fracpart((~m))* ∫((1 + (~b)⨸(~a)*sin((~e) + (~f)*(~x)))^(~m)*((~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_2_1_55",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    !(ext_isinteger((~m))) ?
(~a)^2*cos( (~e) + (~f)*(~x))⨸((~f)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~a) - (~b)*sin((~e) + (~f)*(~x))))* int_and_subst(((~a) + (~b)*(~x))^((~m) - 1⨸2)*((~c) + (~d)*(~x))^(~n)⨸sqrt((~a) - (~b)*(~x)),  (~x), (~x), sin((~e) + (~f)*(~x)), "4_1_2_1_55") : nothing)

("4_1_2_1_56",
@rule ∫(((~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^2,(~x)) =>
    !contains_var((~b), (~c), (~d), (~e), (~f), (~m), (~x)) ?
2*(~c)*(~d)⨸(~b)*∫(((~b)*sin((~e) + (~f)*(~x)))^((~m) + 1), (~x)) + ∫(((~b)*sin((~e) + (~f)*(~x)))^(~m)*((~c)^2 + (~d)^2*sin((~e) + (~f)*(~x))^2), (~x)) : nothing)

("4_1_2_1_57",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^2,(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    lt((~m), -1) ?
-((~b)^2*(~c)^2 - 2*(~a)*(~b)*(~c)*(~d) + (~a)^2*(~d)^2)* cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)⨸((~b)* (~f)*((~m) + 1)*((~a)^2 - (~b)^2)) - 1⨸((~b)*((~m) + 1)*((~a)^2 - (~b)^2))*∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)* simp((~b)*((~m) + 1)*(2*(~b)*(~c)*(~d) - (~a)*((~c)^2 + (~d)^2)) + ((~a)^2*(~d)^2 - 2*(~a)*(~b)*(~c)*(~d)*((~m) + 2) + (~b)^2*((~d)^2*((~m) + 1) + (~c)^2*((~m) + 2)))* sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

("4_1_2_1_58",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^2,(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !(lt((~m), -1)) ?
-(~d)^2*cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)⨸((~b)*(~f)*((~m) + 2)) + 1⨸((~b)*((~m) + 2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)* simp((~b)*((~d)^2*((~m) + 1) + (~c)^2*((~m) + 2)) - (~d)*((~a)*(~d) - 2*(~b)*(~c)*((~m) + 2))*sin((~e) + (~f)*(~x)), (~x)), (~x)) : nothing)

#(* Int[(a_+b_.*sin[e_.+f_.*x_])^m_.*(d_.*sin[e_.+f_.*x_])^n_.,x_ Symbol] := Int[ExpandTrig[(a+b*sin[e+f*x])^m*(d*sin[e+f*x])^n,x],x] /; FreeQ[{a,b,d,e,f,n},x] && NeQ[a^2-b^2,0] && IGtQ[m,0] *)
("4_1_2_1_59",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~m), 2) &&
    lt((~n), -1) &&
    (
        ext_isinteger((~m)) ||
        ext_isinteger(2*(~m), 2*(~n))
    ) ?
-((~b)^2*(~c)^2 - 2*(~a)*(~b)*(~c)*(~d) + (~a)^2*(~d)^2)* cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~d)*(~f)*((~n) + 1)*((~c)^2 - (~d)^2)) + 1⨸((~d)*((~n) + 1)*((~c)^2 - (~d)^2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 3)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)* simp((~b)*((~m) - 2)*((~b)*(~c) - (~a)*(~d))^2 + (~a)*(~d)*((~n) + 1)*((~c)*((~a)^2 + (~b)^2) - 2*(~a)*(~b)*(~d)) + ((~b)*((~n) + 1)*((~a)*(~b)*(~c)^2 + (~c)*(~d)*((~a)^2 + (~b)^2) - 3*(~a)*(~b)*(~d)^2) - (~a)*((~n) + 2)*((~b)*(~c) - (~a)*(~d))^2)*sin((~e) + (~f)*(~x)) + (~b)*((~b)^2*((~c)^2 - (~d)^2) - (~m)*((~b)*(~c) - (~a)*(~d))^2 + (~d)*(~n)*(2*(~a)*(~b)*(~c) - (~d)*((~a)^2 + (~b)^2)))*sin((~e) + (~f)*(~x))^2, (~x)), (~x)) : nothing)

("4_1_2_1_60",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~m), 2) &&
    (
        ext_isinteger((~m)) ||
        ext_isinteger(2*(~m), 2*(~n))
    ) &&
    !(
        igt((~n), 2) &&
        (
            !(ext_isinteger((~m))) ||
            eq((~a), 0) &&
            !eq((~c), 0)
        )
    ) ?
-(~b)^2*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~d)*(~f)*((~m) + (~n))) + 1⨸((~d)*((~m) + (~n)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 3)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)* simp((~a)^3*(~d)*((~m) + (~n)) + (~b)^2*((~b)*(~c)*((~m) - 2) + (~a)*(~d)*((~n) + 1)) - (~b)*((~a)*(~b)*(~c) - (~b)^2*(~d)*((~m) + (~n) - 1) - 3*(~a)^2*(~d)*((~m) + (~n)))* sin((~e) + (~f)*(~x)) - (~b)^2*((~b)*(~c)*((~m) - 1) - (~a)*(~d)*(3*(~m) + 2*(~n) - 2))*sin((~e) + (~f)*(~x))^2, (~x)), (~x)) : nothing)

("4_1_2_1_61",
@rule ∫(sqrt((~!d)*sin((~!e) + (~!f)*(~x)))/((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) ?
-2*(~a)*(~d)* cos((~e) + (~f)*(~x))⨸((~f)*((~a)^2 - (~b)^2)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~d)*sin((~e) + (~f)*(~x)))) - (~d)^2⨸((~a)^2 - (~b)^2)* ∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸((~d)*sin((~e) + (~f)*(~x)))^(3⨸2), (~x)) : nothing)

("4_1_2_1_62",
@rule ∫(sqrt( (~c) + (~!d)*sin((~!e) + (~!f)*(~x)))/((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
((~c) - (~d))⨸((~a) - (~b))* ∫(1⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) - ((~b)*(~c) - (~a)*(~d))⨸((~a) - (~b))* ∫((1 + sin((~e) + (~f)*(~x)))⨸(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(3⨸2)* sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_63",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~m), -1) &&
    lt(0, (~n), 1) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
-(~b)*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^ (~n)⨸((~f)*((~m) + 1)*((~a)^2 - (~b)^2)) + 1⨸(((~m) + 1)*((~a)^2 - (~b)^2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)* simp((~a)*(~c)*((~m) + 1) + (~b)*(~d)*(~n) + ((~a)*(~d)*((~m) + 1) - (~b)*(~c)*((~m) + 2))*sin((~e) + (~f)*(~x)) - (~b)*(~d)*((~m) + (~n) + 2)*sin((~e) + (~f)*(~x))^2, (~x)), (~x)) : nothing)

("4_1_2_1_64",
@rule ∫(((~!d)*sin((~!e) + (~!f)*(~x)))^(3//2)/((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) ?
(~d)⨸(~b)*∫(sqrt((~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) - (~a)*(~d)⨸(~b)*∫(sqrt((~d)*sin((~e) + (~f)*(~x)))⨸((~a) + (~b)*sin((~e) + (~f)*(~x)))^(3⨸2), (~x)) : nothing)

("4_1_2_1_65",
@rule ∫(((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(3//2)/((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
(~d)^2⨸(~b)^2*∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) + ((~b)*(~c) - (~a)*(~d))⨸(~b)^2* ∫(simp((~b)*(~c) + (~a)*(~d) + 2*(~b)*(~d)*sin((~e) + (~f)*(~x)), (~x))⨸(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(3⨸2)*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_66",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~m), -1) &&
    lt(1, (~n), 2) &&
    ext_isinteger(2*(~m), 2*(~n)) ?
-((~b)*(~c) - (~a)*(~d))* cos((~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)⨸((~f)*((~m) + 1)*((~a)^2 - (~b)^2)) + 1⨸(((~m) + 1)*((~a)^2 - (~b)^2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 2)* simp((~c)*((~a)*(~c) - (~b)*(~d))*((~m) + 1) + (~d)*((~b)*(~c) - (~a)*(~d))*((~n) - 1) + ((~d)*((~a)*(~c) - (~b)*(~d))*((~m) + 1) - (~c)*((~b)*(~c) - (~a)*(~d))*((~m) + 2))*sin((~e) + (~f)*(~x)) - (~d)*((~b)*(~c) - (~a)*(~d))*((~m) + (~n) + 1)*sin((~e) + (~f)*(~x))^2, (~x)), (~x)) : nothing)

("4_1_2_1_67",
@rule ∫(1/(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2)* sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) ?
2*(~b)*cos( (~e) + (~f)*(~x))⨸((~f)*((~a)^2 - (~b)^2)*sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~d)*sin((~e) + (~f)*(~x)))) + (~d)⨸((~a)^2 - (~b)^2)* ∫(((~b) + (~a)*sin((~e) + (~f)*(~x)))⨸(sqrt( (~a) + (~b)*sin((~e) + (~f)*(~x)))*((~d)*sin((~e) + (~f)*(~x)))^(3⨸2)), (~x)) : nothing)

("4_1_2_1_68",
@rule ∫(1/(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2)* sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
1⨸((~a) - (~b))* ∫(1⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) - (~b)⨸((~a) - (~b))* ∫((1 + sin((~e) + (~f)*(~x)))⨸(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(3⨸2)* sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_69",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt((~m), -1) &&
    ext_isinteger(2*(~m), 2*(~n)) &&
    (
        eq((~a), 0) &&
        ext_isinteger((~m)) &&
        !(ext_isinteger((~n))) ||
        !(
            ext_isinteger(2*(~n)) &&
            lt((~n), -1) &&
            (
                ext_isinteger((~n)) &&
                !(ext_isinteger((~m))) ||
                eq((~a), 0)
            )
        )
    ) ?
-(~b)^2*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~f)*((~m) + 1)*((~b)*(~c) - (~a)*(~d))*((~a)^2 - (~b)^2)) + 1⨸(((~m) + 1)*((~b)*(~c) - (~a)*(~d))*((~a)^2 - (~b)^2))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) + 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n)* simp((~a)*((~b)*(~c) - (~a)*(~d))*((~m) + 1) + (~b)^2*(~d)*((~m) + (~n) + 2) - ((~b)^2*(~c) + (~b)*((~b)*(~c) - (~a)*(~d))*((~m) + 1))* sin((~e) + (~f)*(~x)) - (~b)^2*(~d)*((~m) + (~n) + 3)*sin((~e) + (~f)*(~x))^2, (~x)), (~x)) : nothing)

("4_1_2_1_70",
@rule ∫(sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))/((~!a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
(~d)⨸(~b)*∫(1⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) + ((~b)*(~c) - (~a)*(~d))⨸(~b)* ∫(1⨸(((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_71",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(3//2)/((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) ?
(~b)⨸(~d)*∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) - ((~b)*(~c) - (~a)*(~d))⨸(~d)* ∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_72",
@rule ∫(1/(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~c) + (~d), 0) ?
2⨸((~f)*((~a) + (~b))*sqrt((~c) + (~d)))* elliptic_pi(2*(~b)⨸((~a) + (~b)), 1⨸2*((~e) - π⨸2 + (~f)*(~x)), 2*(~d)⨸((~c) + (~d))) : nothing)

("4_1_2_1_73",
@rule ∫(1/(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    gt((~c) - (~d), 0) ?
2⨸((~f)*((~a) - (~b))*sqrt((~c) - (~d)))* elliptic_pi(-2*(~b)⨸((~a) - (~b)), 1⨸2*((~e) + π⨸2 + (~f)*(~x)), -2*(~d)⨸((~c) - (~d))) : nothing)

("4_1_2_1_74",
@rule ∫(1/(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    !(gt((~c) + (~d), 0)) ?
sqrt(((~c) + (~d)*sin((~e) + (~f)*(~x)))⨸((~c) + (~d)))⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))* ∫(1⨸(((~a) + (~b)*sin((~e) + (~f)*(~x)))* sqrt((~c)⨸((~c) + (~d)) + (~d)⨸((~c) + (~d))*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_75",
@rule ∫(sqrt((~!b)*sin((~!e) + (~!f)*(~x)))/sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~b), (~c), (~d), (~e), (~f), (~x)) &&
    gt((~c)^2 - (~d)^2, 0) &&
    pos(((~c) + (~d))/(~b)) &&
    gt((~c)^2, 0) ?
2*(~c)*rt((~b)*((~c) + (~d)), 2)*tan((~e) + (~f)*(~x))*sqrt(1 + csc((~e) + (~f)*(~x)))* sqrt(1 - csc((~e) + (~f)*(~x)))⨸((~d)*(~f)*sqrt((~c)^2 - (~d)^2))* elliptic_pi(((~c) + (~d))⨸(~d), asin(sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~b)*sin((~e) + (~f)*(~x)))⨸ rt(((~c) + (~d))⨸(~b), 2)), -((~c) + (~d))⨸((~c) - (~d))) : nothing)

("4_1_2_1_76",
@rule ∫(sqrt((~!b)*sin((~!e) + (~!f)*(~x)))/sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    pos(((~c) + (~d))/(~b)) ?
2*(~b)*tan((~e) + (~f)*(~x))⨸((~d)*(~f))*rt(((~c) + (~d))⨸(~b), 2)* sqrt((~c)*(1 + csc((~e) + (~f)*(~x)))⨸((~c) - (~d)))* sqrt((~c)*(1 - csc((~e) + (~f)*(~x)))⨸((~c) + (~d)))* elliptic_pi(((~c) + (~d))⨸(~d), asin(sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~b)*sin((~e) + (~f)*(~x)))⨸ rt(((~c) + (~d))⨸(~b), 2)), -((~c) + (~d))⨸((~c) - (~d))) : nothing)

("4_1_2_1_77",
@rule ∫(sqrt((~!b)*sin((~!e) + (~!f)*(~x)))/sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    neg(((~c) + (~d))/(~b)) ?
sqrt((~b)*sin((~e) + (~f)*(~x)))⨸sqrt(-(~b)*sin((~e) + (~f)*(~x)))* ∫(sqrt(-(~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

#(* Int[Sqrt[a_+b_.*sin[e_.+f_.*x_]]/Sqrt[d_.*sin[e_.+f_.*x_]],x_ Symbol] := a*Int[1/(Sqrt[a+b*Sin[e+f*x]]*Sqrt[d*Sin[e+f*x]]),x] + b/d*Int[Sqrt[d*Sin[e+f*x]]/Sqrt[a+b*Sin[e+f*x]],x] /; FreeQ[{a,b,d,e,f},x] && NeQ[a^2-b^2,0] *)
#(* Int[Sqrt[a_+b_.*sin[e_.+f_.*x_]]/Sqrt[d_.*sin[e_.+f_.*x_]],x_ Symbol] := 2*(a+b*Sin[e+f*x])/(d*f*Rt[(a+b)/d,2]*Cos[e+f*x])*Sqrt[a*(1-Sin[e+f* x])/(a+b*Sin[e+f*x])]*Sqrt[a*(1+Sin[e+f*x])/(a+b*Sin[e+f*x])]* EllipticPi[b/(a+b),ArcSin[Rt[(a+b)/d,2]*(Sqrt[d*Sin[e+f*x]]/Sqrt[ a+b*Sin[e+f*x]])],-(a-b)/(a+b)] /; FreeQ[{a,b,d,e,f},x] && NeQ[a^2-b^2,0] && PosQ[(a+b)/d] *)
("4_1_2_1_78",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/ sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    pos(((~a) + (~b))/((~c) + (~d))) ?
2*((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸((~d)*(~f)*rt(((~a) + (~b))⨸((~c) + (~d)), 2)*cos((~e) + (~f)*(~x)))* sqrt(((~b)*(~c) - (~a)*(~d))*(1 + sin((~e) + (~f)*(~x)))⨸(((~c) - (~d))*((~a) + (~b)*sin((~e) + (~f)*(~x)))))* sqrt(-((~b)*(~c) - (~a)*(~d))*(1 - sin((~e) + (~f)*(~x)))⨸(((~c) + (~d))*((~a) + (~b)*sin((~e) + (~f)*(~x)))))* elliptic_pi((~b)*((~c) + (~d))⨸((~d)*((~a) + (~b))), asin(rt(((~a) + (~b))⨸((~c) + (~d)), 2)* sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))), ((~a) - (~b))*((~c) + (~d))⨸(((~a) + (~b))*((~c) - (~d)))) : nothing)

("4_1_2_1_79",
@rule ∫(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))/ sqrt((~!c) + (~!d)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    neg(((~a) + (~b))/((~c) + (~d))) ?
sqrt(-(~c) - (~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))* ∫(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸sqrt(-(~c) - (~d)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_80",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    lt((~a)^2 - (~b)^2, 0) &&
    eq((~d)^2, 1) &&
    gt((~b)*(~d), 0) ?
-2*(~d)⨸((~f)*sqrt((~a) + (~b)*(~d)))* elliptic_f( asin(cos((~e) + (~f)*(~x))⨸(1 + (~d)*sin((~e) + (~f)*(~x)))), -((~a) - (~b)*(~d))⨸((~a) + (~b)*(~d))) : nothing)

("4_1_2_1_81",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    lt((~a)^2 - (~b)^2, 0) &&
    gt((~b)^2, 0) &&
    !(
        eq((~d)^2, 1) &&
        gt((~b)*(~d), 0)
    ) ?
sqrt(sign((~b))*sin((~e) + (~f)*(~x)))⨸sqrt((~d)*sin((~e) + (~f)*(~x)))* ∫(1⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt(sign((~b))*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_82",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    gt((~a)^2 - (~b)^2, 0) &&
    pos(((~a) + (~b))/(~d)) &&
    gt((~a)^2, 0) ?
-2*sqrt((~a)^2)* sqrt(-cot((~e) + (~f)*(~x))^2)⨸((~a)*(~f)*sqrt((~a)^2 - (~b)^2)*cot((~e) + (~f)*(~x)))* rt(((~a) + (~b))⨸(~d), 2)* elliptic_f( asin(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~d)*sin((~e) + (~f)*(~x)))⨸ rt(((~a) + (~b))⨸(~d), 2)), -((~a) + (~b))⨸((~a) - (~b))) : nothing)

("4_1_2_1_83",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    pos(((~a) + (~b))/(~d)) ?
-2*tan((~e) + (~f)*(~x))⨸((~a)*(~f))*rt(((~a) + (~b))⨸(~d), 2)* sqrt((~a)*(1 - csc((~e) + (~f)*(~x)))⨸((~a) + (~b)))* sqrt((~a)*(1 + csc((~e) + (~f)*(~x)))⨸((~a) - (~b)))* elliptic_f( asin(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~d)*sin((~e) + (~f)*(~x)))⨸ rt(((~a) + (~b))⨸(~d), 2)), -((~a) + (~b))⨸((~a) - (~b))) : nothing)

("4_1_2_1_84",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))*sqrt((~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    neg(((~a) + (~b))/(~d)) ?
sqrt(-(~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~d)*sin((~e) + (~f)*(~x)))* ∫(1⨸(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))*sqrt(-(~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_85",
@rule ∫(1/(sqrt((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    pos(((~c) + (~d))/((~a) + (~b))) ?
2*((~c) + (~d)*sin((~e) + (~f)*(~x)))⨸((~f)*((~b)*(~c) - (~a)*(~d))*rt(((~c) + (~d))⨸((~a) + (~b)), 2)* cos((~e) + (~f)*(~x)))* sqrt(((~b)*(~c) - (~a)*(~d))*(1 - sin((~e) + (~f)*(~x)))⨸(((~a) + (~b))*((~c) + (~d)*sin((~e) + (~f)*(~x)))))* sqrt(-((~b)*(~c) - (~a)*(~d))*(1 + sin((~e) + (~f)*(~x)))⨸(((~a) - (~b))*((~c) + (~d)*sin((~e) + (~f)*(~x)))))* elliptic_f( asin(rt(((~c) + (~d))⨸((~a) + (~b)), 2)*(sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~c) + (~d)*sin((~e) + (~f)*(~x))))), ((~a) + (~b))*((~c) - (~d))⨸(((~a) - (~b))*((~c) + (~d)))) : nothing)

("4_1_2_1_86",
@rule ∫(1/(sqrt((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))* sqrt((~c) + (~!d)*sin((~!e) + (~!f)*(~x)))),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    neg(((~c) + (~d))/((~a) + (~b))) ?
sqrt(-(~a) - (~b)*sin((~e) + (~f)*(~x)))⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x)))* ∫(1⨸(sqrt(-(~a) - (~b)*sin((~e) + (~f)*(~x)))*sqrt((~c) + (~d)*sin((~e) + (~f)*(~x)))), (~x)) : nothing)

("4_1_2_1_87",
@rule ∫(((~!d)*sin((~!e) + (~!f)*(~x)))^(3//2)/sqrt((~!a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) ?
-(~a)*(~d)⨸(2*(~b))* ∫(sqrt((~d)*sin((~e) + (~f)*(~x)))⨸sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) + (~d)⨸(2*(~b))* ∫(sqrt((~d)*sin((~e) + (~f)*(~x)))*((~a) + 2*(~b)*sin((~e) + (~f)*(~x)))⨸ sqrt((~a) + (~b)*sin((~e) + (~f)*(~x))), (~x)) : nothing)

("4_1_2_1_88",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    !eq((~c)^2 - (~d)^2, 0) &&
    lt(0, (~m), 2) &&
    lt(-1, (~n), 2) &&
    !eq((~m) + (~n), 0) &&
    (
        ext_isinteger((~m)) ||
        ext_isinteger(2*(~m), 2*(~n))
    ) ?
-(~b)*cos( (~e) + (~f)*(~x))*((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^ (~n)⨸((~f)*((~m) + (~n))) + 1⨸((~d)*((~m) + (~n)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 2)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) - 1)* simp((~a)^2*(~c)*(~d)*((~m) + (~n)) + (~b)*(~d)*((~b)*(~c)*((~m) - 1) + (~a)*(~d)*(~n)) + ((~a)*(~d)*(2*(~b)*(~c) + (~a)*(~d))*((~m) + (~n)) - (~b)*(~d)*((~a)*(~c) - (~b)*(~d)*((~m) + (~n) - 1)))*sin((~e) + (~f)*(~x)) + (~b)*(~d)*((~b)*(~c)*(~n) + (~a)*(~d)*(2*(~m) + (~n) - 1))*sin((~e) + (~f)*(~x))^2, (~x)), (~x)) : nothing)

("4_1_2_1_89",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~b)*(~c) - (~a)*(~d), 0) &&
    igt((~m), 0) ?
(~b)⨸(~d)*∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^((~n) + 1), (~x)) - ((~b)*(~c) - (~a)*(~d))⨸(~d)* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^((~m) - 1)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)) : nothing)

("4_1_2_1_90",
@rule ∫(((~!d)*sin((~!e) + (~!f)*(~x)))^(~!n)/((~a) + (~!b)*sin((~!e) + (~!f)*(~x))),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) ?
(~a)*∫(((~d)*sin((~e) + (~f)*(~x)))^(~n)⨸((~a)^2 - (~b)^2*sin((~e) + (~f)*(~x))^2), (~x)) - (~b)⨸(~d)*∫(((~d)*sin((~e) + (~f)*(~x)))^((~n) + 1)⨸((~a)^2 - (~b)^2*sin((~e) + (~f)*(~x))^2), (~x)) : nothing)

("4_1_2_1_91",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~!m)*((~!d)*sin((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~d), (~e), (~f), (~n), (~x)) &&
    !eq((~a)^2 - (~b)^2, 0) &&
    ilt((~m), -1) ?
∫(ext_expand(((~d)*sin((~e) + (~f)*(~x)))^ (~n)*((~a) - (~b)*sin((~e) + (~f)*(~x)))^(-(~m))⨸((~a)^2 - (~b)^2*sin((~e) + (~f)*(~x))^2)^(-(~m)), (~x)), (~x)) : nothing)

# ("4_1_2_1_92",
# @rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~!c) + (~!d)*sin((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
#     !eq((~b)*(~c) - (~a)*(~d), 0) &&
#     !eq((~a)^2 - (~b)^2, 0) &&
#     !eq((~c)^2 - (~d)^2, 0) ?
# Unintegrable[((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~c) + (~d)*sin((~e) + (~f)*(~x)))^(~n), (~x)] : nothing)

#(* Int[(a_.+b_.*sin[e_.+f_.*x_])^m_.*(d_./sin[e_.+f_.*x_])^n_,x_ Symbol] := d^m*Int[(d*Csc[e+f*x])^(n-m)*(b+a*Csc[e+f*x])^m,x] /; FreeQ[{a,b,d,e,f,n},x] && Not[IntegerQ[n]] && IntegerQ[m] *)
#(* Int[(a_.+b_.*cos[e_.+f_.*x_])^m_.*(d_./cos[e_.+f_.*x_])^n_,x_ Symbol] := d^m*Int[(d*Sec[e+f*x])^(n-m)*(b+a*Sec[e+f*x])^m,x] /; FreeQ[{a,b,d,e,f,n},x] && Not[IntegerQ[n]] && IntegerQ[m] *)
("4_1_2_1_93",
@rule ∫(((~!a) + (~!b)*sin((~!e) + (~!f)*(~x)))^ (~!m)*((~!c)*((~!d)*sin((~!e) + (~!f)*(~x)))^(~p))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~p), (~x)) &&
    !(ext_isinteger((~n))) ?
(~c)^intpart((~n))*((~c)*((~d)*sin((~e) + (~f)*(~x)))^(~p))^ fracpart((~n))⨸((~d)*sin((~e) + (~f)*(~x)))^((~p)*fracpart((~n)))* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~d)*sin((~e) + (~f)*(~x)))^((~n)*(~p)), (~x)) : nothing)

("4_1_2_1_94",
@rule ∫(((~!a) + (~!b)*cos((~!e) + (~!f)*(~x)))^ (~!m)*((~!c)*((~!d)*cos((~!e) + (~!f)*(~x)))^(~p))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~p), (~x)) &&
    !(ext_isinteger((~n))) ?
(~c)^intpart((~n))*((~c)*((~d)*cos((~e) + (~f)*(~x)))^(~p))^ fracpart((~n))⨸((~d)*cos((~e) + (~f)*(~x)))^((~p)*fracpart((~n)))* ∫(((~a) + (~b)*cos((~e) + (~f)*(~x)))^(~m)*((~d)*cos((~e) + (~f)*(~x)))^((~n)*(~p)), (~x)) : nothing)

("4_1_2_1_95",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~!m)*((~c) + (~!d)*csc((~!e) + (~!f)*(~x)))^(~!n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~x)) &&
    ext_isinteger((~n)) ?
∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~d) + (~c)*sin((~e) + (~f)*(~x)))^(~n)⨸sin((~e) + (~f)*(~x))^(~n), (~x)) : nothing)

("4_1_2_1_96",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~!m)*((~c) + (~!d)*csc((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !(ext_isinteger((~n))) &&
    ext_isinteger((~m)) ?
∫(((~b) + (~a)*csc((~e) + (~f)*(~x)))^(~m)*((~c) + (~d)*csc((~e) + (~f)*(~x)))^(~n)⨸csc((~e) + (~f)*(~x))^(~m), (~x)) : nothing)

("4_1_2_1_97",
@rule ∫(((~a) + (~!b)*cos((~!e) + (~!f)*(~x)))^(~!m)*((~c) + (~!d)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~n), (~x)) &&
    !(ext_isinteger((~n))) &&
    ext_isinteger((~m)) ?
∫(((~b) + (~a)*sec((~e) + (~f)*(~x)))^(~m)*((~c) + (~d)*sec((~e) + (~f)*(~x)))^(~n)⨸sec((~e) + (~f)*(~x))^(~m), (~x)) : nothing)

("4_1_2_1_98",
@rule ∫(((~a) + (~!b)*sin((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*csc((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    !(ext_isinteger((~n))) &&
    !(ext_isinteger((~m))) ?
sin((~e) + (~f)*(~x))^(~n)*((~c) + (~d)*csc((~e) + (~f)*(~x)))^(~n)⨸((~d) + (~c)*sin((~e) + (~f)*(~x)))^(~n)* ∫(((~a) + (~b)*sin((~e) + (~f)*(~x)))^(~m)*((~d) + (~c)*sin((~e) + (~f)*(~x)))^(~n)⨸sin((~e) + (~f)*(~x))^(~n), (~x)) : nothing)

("4_1_2_1_99",
@rule ∫(((~a) + (~!b)*cos((~!e) + (~!f)*(~x)))^(~m)*((~c) + (~!d)*sec((~!e) + (~!f)*(~x)))^(~n),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~f), (~m), (~n), (~x)) &&
    !(ext_isinteger((~n))) &&
    !(ext_isinteger((~m))) ?
cos((~e) + (~f)*(~x))^(~n)*((~c) + (~d)*sec((~e) + (~f)*(~x)))^(~n)⨸((~d) + (~c)*cos((~e) + (~f)*(~x)))^(~n)* ∫(((~a) + (~b)*cos((~e) + (~f)*(~x)))^(~m)*((~d) + (~c)*cos((~e) + (~f)*(~x)))^(~n)⨸cos((~e) + (~f)*(~x))^(~n), (~x)) : nothing)


]
