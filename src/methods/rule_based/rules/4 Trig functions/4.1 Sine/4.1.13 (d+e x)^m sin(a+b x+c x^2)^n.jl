file_rules = [
#(* ::Subsection::Closed:: *)
#(* 4.1.13 (d+e x)^m sin(a+b x+c x^2)^n *)
("4_1_13_1",
@rule ∫(sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~x)) &&
    eq((~b)^2 - 4*(~a)*(~c), 0) ?
∫(sin(((~b) + 2*(~c)*(~x))^2⨸(4*(~c))), (~x)) : nothing)

("4_1_13_2",
@rule ∫(cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~x)) &&
    eq((~b)^2 - 4*(~a)*(~c), 0) ?
∫(cos(((~b) + 2*(~c)*(~x))^2⨸(4*(~c))), (~x)) : nothing)

("4_1_13_3",
@rule ∫(sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) ?
cos(((~b)^2 - 4*(~a)*(~c))⨸(4*(~c)))*∫(sin(((~b) + 2*(~c)*(~x))^2⨸(4*(~c))), (~x)) - sin(((~b)^2 - 4*(~a)*(~c))⨸(4*(~c)))*∫(cos(((~b) + 2*(~c)*(~x))^2⨸(4*(~c))), (~x)) : nothing)

("4_1_13_4",
@rule ∫(cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~x)) &&
    !eq((~b)^2 - 4*(~a)*(~c), 0) ?
cos(((~b)^2 - 4*(~a)*(~c))⨸(4*(~c)))*∫(cos(((~b) + 2*(~c)*(~x))^2⨸(4*(~c))), (~x)) + sin(((~b)^2 - 4*(~a)*(~c))⨸(4*(~c)))*∫(sin(((~b) + 2*(~c)*(~x))^2⨸(4*(~c))), (~x)) : nothing)

# ("4_1_13_5",
# @rule ∫(sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~x)) &&
#     igt((~n), 1) ?
# ∫(ExpandTrigReduce[sin((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)], (~x)) : nothing)
# 
# ("4_1_13_6",
# @rule ∫(cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~x)) &&
#     igt((~n), 1) ?
# ∫(ExpandTrigReduce[cos((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)], (~x)) : nothing)

# ("4_1_13_7",
# @rule ∫(sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~!n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~n), (~x)) ?
# Unintegrable[sin((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)] : nothing)

# ("4_1_13_8",
# @rule ∫(cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~!n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~n), (~x)) ?
# Unintegrable[cos((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)] : nothing)

("4_1_13_9",
@rule ∫(sin((~v))^(~!n),(~x)) =>
    igt((~n), 0) &&
    quadratic((~v), (~x)) &&
    !(quadratic_without_simplify((~v), (~x))) ?
∫(sin(expand_to_sum((~v), (~x)))^(~n), (~x)) : nothing)

("4_1_13_10",
@rule ∫(cos((~v))^(~!n),(~x)) =>
    igt((~n), 0) &&
    quadratic((~v), (~x)) &&
    !(quadratic_without_simplify((~v), (~x))) ?
∫(cos(expand_to_sum((~v), (~x)))^(~n), (~x)) : nothing)

("4_1_13_11",
@rule ∫(((~d) + (~!e)*(~x))*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq(2*(~c)*(~d) - (~b)*(~e), 0) ?
-(~e)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) : nothing)

("4_1_13_12",
@rule ∫(((~d) + (~!e)*(~x))*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq(2*(~c)*(~d) - (~b)*(~e), 0) ?
(~e)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) : nothing)

("4_1_13_13",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq(2*(~c)*(~d) - (~b)*(~e), 0) &&
    gt((~m), 1) ?
-(~e)*((~d) + (~e)*(~x))^((~m) - 1)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) + (~e)^2*((~m) - 1)⨸(2*(~c))* ∫(((~d) + (~e)*(~x))^((~m) - 2)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_14",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq(2*(~c)*(~d) - (~b)*(~e), 0) &&
    gt((~m), 1) ?
(~e)*((~d) + (~e)*(~x))^((~m) - 1)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) - (~e)^2*((~m) - 1)⨸(2*(~c))* ∫(((~d) + (~e)*(~x))^((~m) - 2)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_15",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq(2*(~c)*(~d) - (~b)*(~e), 0) &&
    lt((~m), -1) ?
((~d) + (~e)*(~x))^((~m) + 1)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸((~e)*((~m) + 1)) - 2*(~c)⨸((~e)^2*((~m) + 1))* ∫(((~d) + (~e)*(~x))^((~m) + 2)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_16",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    eq(2*(~c)*(~d) - (~b)*(~e), 0) &&
    lt((~m), -1) ?
((~d) + (~e)*(~x))^((~m) + 1)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸((~e)*((~m) + 1)) + 2*(~c)⨸((~e)^2*((~m) + 1))* ∫(((~d) + (~e)*(~x))^((~m) + 2)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_17",
@rule ∫(((~!d) + (~!e)*(~x))*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq(2*(~c)*(~d) - (~b)*(~e), 0) ?
-(~e)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) + (2*(~c)*(~d) - (~b)*(~e))⨸(2*(~c))*∫(sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_18",
@rule ∫(((~!d) + (~!e)*(~x))*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq(2*(~c)*(~d) - (~b)*(~e), 0) ?
(~e)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) + (2*(~c)*(~d) - (~b)*(~e))⨸(2*(~c))*∫(cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_19",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq((~b)*(~e) - 2*(~c)*(~d), 0) &&
    gt((~m), 1) ?
-(~e)*((~d) + (~e)*(~x))^((~m) - 1)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) - ((~b)*(~e) - 2*(~c)*(~d))⨸(2*(~c))* ∫(((~d) + (~e)*(~x))^((~m) - 1)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) + (~e)^2*((~m) - 1)⨸(2*(~c))* ∫(((~d) + (~e)*(~x))^((~m) - 2)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_20",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq((~b)*(~e) - 2*(~c)*(~d), 0) &&
    gt((~m), 1) ?
(~e)*((~d) + (~e)*(~x))^((~m) - 1)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸(2*(~c)) - ((~b)*(~e) - 2*(~c)*(~d))⨸(2*(~c))* ∫(((~d) + (~e)*(~x))^((~m) - 1)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) - (~e)^2*((~m) - 1)⨸(2*(~c))* ∫(((~d) + (~e)*(~x))^((~m) - 2)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_21",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq((~b)*(~e) - 2*(~c)*(~d), 0) &&
    lt((~m), -1) ?
((~d) + (~e)*(~x))^((~m) + 1)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸((~e)*((~m) + 1)) - ((~b)*(~e) - 2*(~c)*(~d))⨸((~e)^2*((~m) + 1))* ∫(((~d) + (~e)*(~x))^((~m) + 1)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) - 2*(~c)⨸((~e)^2*((~m) + 1))* ∫(((~d) + (~e)*(~x))^((~m) + 2)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

("4_1_13_22",
@rule ∫(((~!d) + (~!e)*(~x))^(~m)*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2),(~x)) =>
    !contains_var((~a), (~b), (~c), (~d), (~e), (~x)) &&
    !eq((~b)*(~e) - 2*(~c)*(~d), 0) &&
    lt((~m), -1) ?
((~d) + (~e)*(~x))^((~m) + 1)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)⨸((~e)*((~m) + 1)) + ((~b)*(~e) - 2*(~c)*(~d))⨸((~e)^2*((~m) + 1))* ∫(((~d) + (~e)*(~x))^((~m) + 1)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) + 2*(~c)⨸((~e)^2*((~m) + 1))* ∫(((~d) + (~e)*(~x))^((~m) + 2)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2), (~x)) : nothing)

# ("4_1_13_23",
# @rule ∫(((~!d) + (~!e)*(~x))^(~!m)*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~x)) &&
#     igt((~n), 1) ?
# ∫(ExpandTrigReduce[((~d) + (~e)*(~x))^(~m), sin((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)], (~x)) : nothing)
# 
# ("4_1_13_24",
# @rule ∫(((~!d) + (~!e)*(~x))^(~!m)*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~x)) &&
#     igt((~n), 1) ?
# ∫(ExpandTrigReduce[((~d) + (~e)*(~x))^(~m), cos((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)], (~x)) : nothing)

# ("4_1_13_25",
# @rule ∫(((~!d) + (~!e)*(~x))^(~!m)*sin((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~!n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~x)) ?
# Unintegrable[((~d) + (~e)*(~x))^(~m)*sin((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)] : nothing)

# ("4_1_13_26",
# @rule ∫(((~!d) + (~!e)*(~x))^(~!m)*cos((~!a) + (~!b)*(~x) + (~!c)*(~x)^2)^(~!n),(~x)) =>
#     !contains_var((~a), (~b), (~c), (~d), (~e), (~m), (~n), (~x)) ?
# Unintegrable[((~d) + (~e)*(~x))^(~m)*cos((~a) + (~b)*(~x) + (~c)*(~x)^2)^(~n), (~x)] : nothing)

("4_1_13_27",
@rule ∫((~u)^(~!m)*sin((~v))^(~!n),(~x)) =>
    !contains_var((~m), (~x)) &&
    igt((~n), 0) &&
    linear((~u), (~x)) &&
    quadratic((~v), (~x)) &&
    !(
        linear_without_simplify((~u), (~x)) &&
        quadratic_without_simplify((~v), (~x))
    ) ?
∫(expand_to_sum((~u), (~x))^(~m)*sin(expand_to_sum((~v), (~x)))^(~n), (~x)) : nothing)

("4_1_13_28",
@rule ∫((~u)^(~!m)*cos((~v))^(~!n),(~x)) =>
    !contains_var((~m), (~x)) &&
    igt((~n), 0) &&
    linear((~u), (~x)) &&
    quadratic((~v), (~x)) &&
    !(
        linear_without_simplify((~u), (~x)) &&
        quadratic_without_simplify((~v), (~x))
    ) ?
∫(expand_to_sum((~u), (~x))^(~m)*cos(expand_to_sum((~v), (~x)))^(~n), (~x)) : nothing)


]
