file_rules = [
# (* ::Subsection::Closed:: *) 
# (* 1.1.1.2 (a+b x)^m (c+d x)^n *) 
("1_1_1_2_1",
@rule ∫(((~a) + (~!b)*(~x))^(~!m)*((~c) + (~!d)*(~x)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~m)) &&
        eq((~a)*(~d) - (~b)*(~c)*((~m) + 2), 0) ?
(~d)*(~x)*((~a) + (~b)*(~x))^((~m) + 1)⨸((~b)*((~m) + 2)) : nothing)

("1_1_1_2_2",
@rule ∫(1/(((~a) + (~!b)*(~x))*((~c) + (~!d)*(~x))),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) ?
∫(1⨸((~a)*(~c) + (~b)*(~d)*(~x)^2), (~x)) : nothing)

("1_1_1_2_3",
@rule ∫(1/(((~!a) + (~!b)*(~x))*((~!c) + (~!d)*(~x))),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) ?
(~b)⨸((~b)*(~c) - (~a)*(~d))*∫(1⨸((~a) + (~b)*(~x)), (~x)) - (~d)⨸((~b)*(~c) - (~a)*(~d))*∫(1⨸((~c) + (~d)*(~x)), (~x)) : nothing)

("1_1_1_2_4",
@rule ∫(((~!a) + (~!b)*(~x))^(~!m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~m), (~n)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        eq((~m) + (~n) + 2, 0) &&
        !eq((~m), -1) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~n) + 1)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1)) : nothing)

("1_1_1_2_5",
@rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~m),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        igt((~m) + 1/2, 0) ?
(~x)*((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^(~m)⨸(2*(~m) + 1) + 2*(~a)*(~c)*(~m)⨸(2*(~m) + 1)*∫(((~a) + (~b)*(~x))^((~m) - 1)*((~c) + (~d)*(~x))^((~m) - 1), (~x)) : nothing)

("1_1_1_2_6",
@rule ∫(1/(((~a) + (~!b)*(~x))^(3//2)*((~c) + (~!d)*(~x))^(3//2)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) ?
(~x)⨸((~a)*(~c)*sqrt((~a) + (~b)*(~x))*sqrt((~c) + (~d)*(~x))) : nothing)

("1_1_1_2_7",
@rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~m),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        ilt((~m) + 3/2, 0) ?
-(~x)*((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~m) + 1)⨸(2*(~a)*(~c)*((~m) + 1)) + (2*(~m) + 3)⨸(2*(~a)*(~c)*((~m) + 1))* ∫(((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~m) + 1), (~x)) : nothing)

("1_1_1_2_8",
@rule ∫(((~a) + (~!b)*(~x))^(~!m)*((~c) + (~!d)*(~x))^(~!m),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~m)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        (extended_isinteger((~m)) ||
        ((~a) > 0) &&
        ((~c) > 0)) ?
∫(((~a)*(~c) + (~b)*(~d)*(~x)^2)^(~m), (~x)) : nothing)

("1_1_1_2_9",
@rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~m),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~m)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        !(extended_isinteger(2*(~m))) ?
((~a) + (~b)*(~x))^ fracpart((~m))*((~c) + (~d)*(~x))^fracpart((~m))⨸((~a)*(~c) + (~b)*(~d)*(~x)^2)^fracpart((~m))* ∫(((~a)*(~c) + (~b)*(~d)*(~x)^2)^(~m), (~x)) : nothing)

("1_1_1_2_10",
@rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~n)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ilt((~m), -1) &&
        !(extended_isinteger((~n))) &&
        ((~n) > 0) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^(~n)⨸((~b)*((~m) + 1)) - (~d)*(~n)⨸((~b)*((~m) + 1))*∫(((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~n) - 1), (~x)) : nothing)

("1_1_1_2_11",
@rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~n)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ilt((~m), -1) &&
        !(extended_isinteger((~n))) &&
        ((~n) < 0) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~n) + 1)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1)) - (~d)*((~m) + (~n) + 2)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1))* ∫(((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^(~n), (~x)) : nothing)

("1_1_1_2_12",
@rule ∫(((~!a) + (~!b)*(~x))^(~!m)*((~!c) + (~!d)*(~x))^(~!n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~n)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        igt((~m), 0) &&
        (!(extended_isinteger((~n))) ||
        eq((~c), 0) &&
        (7*(~m) + 4*(~n) + 4 <= 0) ||
        (9*(~m) + 5*((~n) + 1) < 0) ||
        ((~m) + (~n) + 2 > 0)) ?
∫(expand(((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^(~n)), (~x)) : nothing)

("1_1_1_2_13",
@rule ∫(((~a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~!n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ilt((~m), 0) &&
        extended_isinteger((~n)) &&
        !(igt((~n), 0) &&
        ((~m) + (~n) + 2 < 0)) ?
∫(expand(((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^(~n)), (~x)) : nothing)

("1_1_1_2_14",
@rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~m), (~n)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ilt(simplify((~m) + (~n) + 2), 0) &&
        !eq((~m), -1) &&
        !(
            ((~m) < -1) &&
            ((~n) < -1) &&
            (eq((~a), 0) ||
            !eq((~c), 0) &&
            ((~m) - (~n) < 0) &&
            extended_isinteger((~n)))
        ) &&
        (sumsimpler((~m), 1) || !(sumsimpler((~n), 1))) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~n) + 1)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1)) - (~d)*simplify((~m) + (~n) + 2)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1))* ∫(((~a) + (~b)*(~x))^simplify((~m) + 1)*((~c) + (~d)*(~x))^(~n), (~x)) : nothing)

("1_1_1_2_15",
@rule ∫(1/(((~a) + (~!b)*(~x))^(9//4)*((~c) + (~!d)*(~x))^(1//4)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        neg((~a)^2*(~b)^2) ?
-4⨸(5*(~b)*((~a) + (~b)*(~x))^(5⨸4)*((~c) + (~d)*(~x))^(1⨸4)) - (~d)⨸(5*(~b))*∫(1⨸(((~a) + (~b)*(~x))^(5⨸4)*((~c) + (~d)*(~x))^(5⨸4)), (~x)) : nothing)

("1_1_1_2_16",
@rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ((~n) > 0) &&
        ((~m) < -1) &&
        !extended_isinteger((~n)) &&
        !extended_isinteger((~m)) &&
        !( 
                ile((~m) + (~n) + 2, 0) &&
                (fraction((~m)) ||
                (2*(~n) + (~m) + 1 >= 0))
        ) &&
        intlinear((~a), (~b), (~c), (~d), (~m), (~n), (~x)) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^(~n)⨸((~b)*((~m) + 1)) - (~d)*(~n)⨸((~b)*((~m) + 1))*∫(((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~n) - 1), (~x)) : nothing)

("1_1_1_2_17",
@rule ∫(1/(((~a) + (~!b)*(~x))^(5//4)*((~c) + (~!d)*(~x))^(1//4)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        neg((~a)^2*(~b)^2) ?
-2⨸((~b)*((~a) + (~b)*(~x))^(1⨸4)*((~c) + (~d)*(~x))^(1⨸4)) + (~c)*∫(1⨸(((~a) + (~b)*(~x))^(5⨸4)*((~c) + (~d)*(~x))^(5⨸4)), (~x)) : nothing)

("1_1_1_2_18",
@rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b)*(~c) + (~a)*(~d), 0) &&
        igt((~m) + 1/2, 0) &&
        igt((~n) + 1/2, 0) &&
        ((~m) < (~n)) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^(~n)⨸((~b)*((~m) + (~n) + 1)) + 2*(~c)*(~n)⨸((~m) + (~n) + 1)*∫(((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^((~n) - 1), (~x)) : nothing)

("1_1_1_2_19",
@rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ((~n) > 0) &&
        !eq((~m) + (~n) + 1, 0) &&
        !(
                igt((~m), 0) &&
                (
                !extended_isinteger(~n) ||
                ((~m) > 0) &&
                ((~m) - (~n) < 0)
                )
        ) &&
        !(ilt((~m) + (~n) + 2, 0)) &&
        intlinear((~a), (~b), (~c), (~d), (~m), (~n), (~x)) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^(~n)⨸((~b)*((~m) + (~n) + 1)) + (~n)*((~b)*(~c) - (~a)*(~d))⨸((~b)*((~m) + (~n) + 1))* ∫(((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^((~n) - 1), (~x)) : nothing)

("1_1_1_2_20",
@rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d), (~n)) &&
        !eq((~b)*(~c) - (~a)*(~d), 0) &&
        ((~m) < -1) &&
        !( ((~n) < -1) &&
        (eq((~a), 0) ||
        !eq((~c), 0) &&
        ((~m) - (~n) < 0) &&
        extended_isinteger((~n)))) &&
        intlinear((~a), (~b), (~c), (~d), (~m), (~n), (~x)) ?
((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^((~n) + 1)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1)) - (~d)*((~m) + (~n) + 2)⨸(((~b)*(~c) - (~a)*(~d))*((~m) + 1))* ∫(((~a) + (~b)*(~x))^((~m) + 1)*((~c) + (~d)*(~x))^(~n), (~x)) : nothing)

("1_1_1_2_21",
@rule ∫(1/(sqrt((~a) + (~!b)*(~x))*sqrt((~c) + (~!d)*(~x))),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~a) + (~c), 0) &&
        eq((~b) - (~d), 0) &&
        ((~a) > 0) ?
acosh((~b)*(~x)⨸(~a))⨸(~b) : nothing)

("1_1_1_2_22",
@rule ∫(1/(sqrt((~a) + (~!b)*(~x))*sqrt((~!c) + (~!d)*(~x))),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        eq((~b) + (~d), 0) &&
        ((~a) + (~c) > 0) ?
∫(1⨸sqrt((~a)*(~c) - (~b)*((~a) - (~c))*(~x) - (~b)^2*(~x)^2), (~x)) : nothing)

("1_1_1_2_23",
@rule ∫(1/(sqrt((~!a) + (~!b)*(~x))*sqrt((~!c) + (~!d)*(~x))),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        ((~b)*(~c) - (~a)*(~d) > 0) &&
        ((~b) > 0) ?
# TODO the integrate function call ehre messes up the printing of rules
2⨸sqrt((~b))* int_and_subst(1⨸sqrt((~b)*(~c) - (~a)*(~d) + (~d)*(~x)^2), (~x), (~x), sqrt((~a) + (~b)*(~x)), "1_1_1_2_23") : nothing)

("1_1_1_2_24",
@rule ∫(1/(((~!a) + (~!b)*(~x))*((~!c) + (~!d)*(~x))^(1//3)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        pos(((~b)*(~c) - (~a)*(~d))/(~b)) ?
-log((~a) + (~b)*(~x))⨸(2*(~b)*rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)) - 3⨸(2*(~b)*rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3))*int_and_subst(1⨸(rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3) - (~x)), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_24") + 3⨸(2*(~b))* int_and_subst(1⨸(rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2 + rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)*(~x) + (~x)^2), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_24") : nothing)

# These two versions are the same, this second is a bit more readable but more difficult to translate
# ("1_1_1_2_24",
# function foo(pattern)
#     r = @rule ∫(1/(((~!a) + (~!b)*(~x))*((~!c) + (~!d)*(~x))^(1//3)),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d)) &&
#         pos(((~b)*(~c) - (~a)*(~d))/(~b)) ?
#     (~a, ~b, ~c, ~d, ~x) : nothing
#     result = r(pattern)
#     if result !== nothing
#         (a_, b_, c_, d_, x_) = result
#         q_ = rt(((b_)*(c_) - (a_)*(d_))⨸(b_), 3)
#         return -log(a_ + b_*x_)⨸(2*b_*q_) - 3⨸(2*b_*q_)*int_and_subst(1⨸(q_ - x_), x_, x_, (c_ + d_*x_)^(1⨸3), "1_1_1_2_24") + 3⨸(2*(b_))* int_and_subst(1⨸((q_)^2 + (q_)*(x_) + (x_)^2), x_, x_, (c_ + d_*x_)^(1⨸3), "1_1_1_2_24")
#     end
#     return nothing
# end)

("1_1_1_2_25",
@rule ∫(1/(((~!a) + (~!b)*(~x))*((~!c) + (~!d)*(~x))^(1//3)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        neg(((~b)*(~c) - (~a)*(~d))/(~b)) ?
log((~a) + (~b)*(~x))⨸(2*(~b)*rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)) - 3⨸(2*(~b)*rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3))*int_and_subst(1⨸(rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3) + (~x)), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_25") + 3⨸(2*(~b))* int_and_subst(1⨸(rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2 - rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)*(~x) + (~x)^2), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_25") : nothing)

("1_1_1_2_26",
@rule ∫(1/(((~!a) + (~!b)*(~x))*((~!c) + (~!d)*(~x))^(2//3)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        pos(((~b)*(~c) - (~a)*(~d))/(~b)) ?
-log((~a) + (~b)*(~x))⨸(2*(~b)*rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2) - 3⨸(2*(~b)*rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2)*int_and_subst(1⨸(rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3) - (~x)), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_26") - 3⨸(2*(~b)*rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3))* int_and_subst(1⨸(rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2 + rt(((~b)*(~c) - (~a)*(~d))⨸(~b), 3)*(~x) + (~x)^2), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_26") : nothing)

("1_1_1_2_27",
@rule ∫(1/(((~!a) + (~!b)*(~x))*((~!c) + (~!d)*(~x))^(2//3)),(~x)) =>
        !contains_var((~x), (~a), (~b), (~c), (~d)) &&
        neg(((~b)*(~c) - (~a)*(~d))/(~b)) ?
-log((~a) + (~b)*(~x))⨸(2*(~b)*rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2) + 3⨸(2*(~b)*rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2)*int_and_subst(1⨸(rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3) + (~x)), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_27") + 3⨸(2*(~b)*rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3))* int_and_subst(1⨸(rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)^2 - rt(-((~b)*(~c) - (~a)*(~d))⨸(~b), 3)*(~x) + (~x)^2), (~x), (~x), ((~c) + (~d)*(~x))^(1⨸3), "1_1_1_2_27") : nothing)

# ("1_1_1_2_28",
# @rule ∫(1/(((~!a) + (~!b)*(~x))^(1//3)*((~!c) + (~!d)*(~x))^(2//3)),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         pos((~d)/(~b)) ?
# -Srt((~d)⨸(~b), 3)rt[3]*rt((~d)⨸(~b), 3)⨸(~d)* atan(2*rt((~d)⨸(~b), 3)*((~a) + (~b)*(~x))^(1⨸3)⨸(SRt[(~d)⨸(~b), 3)rt[3]*((~c) + (~d)*(~x))^(1⨸3)) + 1⨸Srt((~d)⨸(~b), 3)rt[3]] - rt((~d)⨸(~b), 3)⨸(2*(~d))*log((~c) + (~d)*(~x)) - 3*rt((~d)⨸(~b), 3)⨸(2*(~d))*log(rt((~d)⨸(~b), 3)*((~a) + (~b)*(~x))^(1⨸3)⨸((~c) + (~d)*(~x))^(1⨸3) - 1) : nothing)
# 
# ("1_1_1_2_29",
# @rule ∫(1/(((~!a) + (~!b)*(~x))^(1//3)*((~!c) + (~!d)*(~x))^(2//3)),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         neg((~d)/(~b)) ?
# Srt(-(~d)⨸(~b), 3)rt[3]*rt(-(~d)⨸(~b), 3)⨸(~d)* atan(1⨸Srt(-(~d)⨸(~b), 3)rt[3) - 2*rt(-(~d)⨸(~b), 3)*((~a) + (~b)*(~x))^(1⨸3)⨸(Srt(-(~d)⨸(~b), 3)rt[3]*((~c) + (~d)*(~x))^(1⨸3))] + rt(-(~d)⨸(~b), 3)⨸(2*(~d))*log((~c) + (~d)*(~x)) + 3*rt(-(~d)⨸(~b), 3)⨸(2*(~d))*log(rt(-(~d)⨸(~b), 3)*((~a) + (~b)*(~x))^(1⨸3)⨸((~c) + (~d)*(~x))^(1⨸3) + 1) : nothing)
# 
# ("1_1_1_2_30",
# @rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~m),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         (-1 < (~m), 0) &&
#         (3 <= extended_denominator((~m)), 4) &&
#         AtomQ[(~b)*(~c) + (~a)*(~d)] ?
# ((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^(~m)⨸((~a)*(~c) + ((~b)*(~c) + (~a)*(~d))*(~x) + (~b)*(~d)*(~x)^2)^(~m)* ∫(((~a)*(~c) + ((~b)*(~c) + (~a)*(~d))*(~x) + (~b)*(~d)*(~x)^2)^(~m), (~x)) : nothing)
# 
# ("1_1_1_2_31",
# @rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~m),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         (-1 < (~m), 0) &&
#         (3 <= extended_denominator((~m)), 4) ?
# ((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^(~m)⨸(((~a) + (~b)*(~x))*((~c) + (~d)*(~x)))^(~m)* ∫(((~a)*(~c) + ((~b)*(~c) + (~a)*(~d))*(~x) + (~b)*(~d)*(~x)^2)^(~m), (~x)) : nothing)
# 
# ("1_1_1_2_32",
# @rule ∫(((~!a) + (~!b)*(~x))^(~m)*((~!c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         (-1 < (~m), 0) &&
#         (-1 <= (~n), 0) &&
#         (extended_denominator((~n)) <= extended_denominator((~m))) &&
#         intlinear((~a), (~b), (~c), (~d), (~m), (~n), (~x)) ?
# With[{(~p) = Denominator[(~m)]}, (~p)⨸(~b)* int_and_subst((~x)^((~p)*((~m) + 1) - 1)*((~c) - (~a)*(~d)⨸(~b) + (~d)*(~x)^(~p)⨸(~b))^(~n), (~x), (~x), ((~a) + (~b)*(~x))^(1⨸(~p)), "1_1_1_2_32")] : nothing)
# 
# ("1_1_1_2_33",
# @rule ∫(((~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~b), (~c), (~d), (~m), (~n)) &&
#         !(extended_isinteger((~m))) &&
#         (extended_isinteger((~n)) ||
#         ((~c) > 0) &&
#         !(eq((~n), -1/2) &&
#         eq((~c)^2 - (~d)^2, 0) &&
#         (-(~d)/((~b)*(~c)) > 0))) ?
# (~c)^(~n)*((~b)*(~x))^((~m) + 1)⨸((~b)*((~m) + 1))* Hypergeometric2F1[-(~n), (~m) + 1, (~m) + 2, -(~d)*(~x)⨸(~c)] : nothing)
# 
# ("1_1_1_2_34",
# @rule ∫(((~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~b), (~c), (~d), (~m), (~n)) &&
#         !(extended_isinteger((~n))) &&
#         (extended_isinteger((~m)) ||
#         (-(~d)/((~b)*(~c)) > 0)) ?
# ((~c) + (~d)*(~x))^((~n) + 1)⨸((~d)*((~n) + 1)*(-(~d)⨸((~b)*(~c)))^(~m))* Hypergeometric2F1[-(~m), (~n) + 1, (~n) + 2, 1 + (~d)*(~x)⨸(~c)] : nothing)
# 
# ("1_1_1_2_35",
# @rule ∫(((~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~b), (~c), (~d), (~m), (~n)) &&
#         !(extended_isinteger((~m))) &&
#         !(extended_isinteger((~n))) &&
#         !(((~c) > 0)) &&
#         !((-(~d)/((~b)*(~c)) > 0)) &&
#         (RationalQ[(~m)] &&
#         !(eq((~n), -1/2) &&
#         eq((~c)^2 - (~d)^2, 0)) ||
#         !(RationalQ[(~n))]) ?
# (~c)^intpart((~n))*((~c) + (~d)*(~x))^fracpart((~n))⨸(1 + (~d)*(~x)⨸(~c))^fracpart((~n))* ∫(((~b)*(~x))^(~m)*(1 + (~d)*(~x)⨸(~c))^(~n), (~x)) : nothing)
# 
# ("1_1_1_2_36",
# @rule ∫(((~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~b), (~c), (~d), (~m), (~n)) &&
#         !(extended_isinteger((~m))) &&
#         !(extended_isinteger((~n))) &&
#         !(((~c) > 0)) &&
#         !((-(~d)/((~b)*(~c)) > 0)) ?
# (-(~b)*(~c)⨸(~d))^intpart((~m))*((~b)*(~x))^fracpart((~m))⨸(-(~d)*(~x)⨸(~c))^fracpart((~m))* ∫((-(~d)*(~x)⨸(~c))^(~m)*((~c) + (~d)*(~x))^(~n), (~x)) : nothing)
# 
# ("1_1_1_2_37",
# @rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d), (~m)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         !(extended_isinteger((~m))) &&
#         extended_isinteger((~n)) ?
# ((~b)*(~c) - (~a)*(~d))^(~n)*((~a) + (~b)*(~x))^((~m) + 1)⨸((~b)^((~n) + 1)*((~m) + 1))* Hypergeometric2F1[-(~n), (~m) + 1, (~m) + 2, -(~d)*((~a) + (~b)*(~x))⨸((~b)*(~c) - (~a)*(~d))] : nothing)
# 
# ("1_1_1_2_38",
# @rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d), (~m), (~n)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         !(extended_isinteger((~m))) &&
#         !(extended_isinteger((~n))) &&
#         ((~b)/((~b)*(~c) - (~a)*(~d)) > 0) &&
#         (RationalQ[(~m)] ||
#         !(RationalQ[(~n)) &&
#         (-(~d)/((~b)*(~c) - (~a)*(~d)) > 0)]) ?
# ((~a) + (~b)*(~x))^((~m) + 1)⨸((~b)*((~m) + 1)*((~b)⨸((~b)*(~c) - (~a)*(~d)))^(~n))* Hypergeometric2F1[-(~n), (~m) + 1, (~m) + 2, -(~d)*((~a) + (~b)*(~x))⨸((~b)*(~c) - (~a)*(~d))] : nothing)
# 
# ("1_1_1_2_39",
# @rule ∫(((~a) + (~!b)*(~x))^(~m)*((~c) + (~!d)*(~x))^(~n),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d), (~m), (~n)) &&
#         !eq((~b)*(~c) - (~a)*(~d), 0) &&
#         !(extended_isinteger((~m))) &&
#         !(extended_isinteger((~n))) &&
#         (RationalQ[(~m)] ||
#         !(simpler((~n) + 1, (~m) + 1))) ?
# ((~c) + (~d)*(~x))^ fracpart( (~n))⨸(((~b)⨸((~b)*(~c) - (~a)*(~d)))^intpart((~n))*((~b)*((~c) + (~d)*(~x))⨸((~b)*(~c) - (~a)*(~d)))^ fracpart((~n)))* ∫(((~a) + (~b)*(~x))^(~m)*Simp[(~b)*(~c)⨸((~b)*(~c) - (~a)*(~d)) + (~b)*(~d)*(~x)⨸((~b)*(~c) - (~a)*(~d)), (~x))^(~n), (~x)] : nothing)
# 
# ("1_1_1_2_40",
# @rule ∫(((~!a) + (~!b)*(~u))^(~!m)*((~!c) + (~!d)*(~u))^(~!n),(~x)) =>
#         !contains_var((~x), (~a), (~b), (~c), (~d), (~m), (~n)) &&
#         Symbolics.linear_expansion((~u), (~x))[3] &&
#         !eq(Coefficient[(~u), (~x), 0), 0] ?
# 1⨸Symbolics.coeff((~u), (~x) ^ 1)* int_and_subst(((~a) + (~b)*(~x))^(~m)*((~c) + (~d)*(~x))^(~n), (~x), (~x), (~u), "1_1_1_2_40") : nothing)
# 
# # (* IntLinearQ[a,b,c,d,m,n,x] returns True iff (a+b*x)^m*(c+d*x)^n is  integrable wrt x in terms of non-hypergeometric functions. *) IntLinearQ[a_, b_, c_, d_, m_, n_, x_] := IGtQ[m, 0] || IGtQ[n, 0] || IntegersQ[3*m, 3*n] || IntegersQ[4*m, 4*n] || IntegersQ[2*m, 6*n] || IntegersQ[6*m, 2*n] || ILtQ[m + n, -1] || IntegerQ[m + n] && RationalQ[m] 
]

